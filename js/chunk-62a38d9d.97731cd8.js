(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62a38d9d"],{c825:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("mew-module",{staticClass:"d-flex flex-grow-1 pt-6",attrs:{title:"Send Offline","has-elevation":!0,"has-indicator":!0},scopedSlots:e._u([{key:"moduleBody",fn:function(){return[s("v-row",{staticClass:"mt-5"},[s("v-col",{staticClass:"pr-sm-1 pt-0 pb-0 pb-sm-4",attrs:{cols:"12",sm:"6"}},[s("div",{staticClass:"position--relative"},[s("mew-select",{attrs:{label:"Token",items:e.tokens,"is-custom":!0},model:{value:e.selectedCurrency,callback:function(t){e.selectedCurrency=t},expression:"selectedCurrency"}})],1)]),s("v-col",{staticClass:"pl-sm-1 pt-0 pb-2 pb-sm-4",attrs:{cols:"12",sm:"6"}},[s("div",{staticClass:"position--relative"},[s("mew-input",{staticClass:"SendOfflineAmountInput",attrs:{label:"Amount",placeholder:"0","error-messages":e.amountErrors,type:"number"},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1)]),s("v-col",{staticClass:"pt-4 pb-2",attrs:{cols:"12"}},[s("module-address-book",{ref:"addressInput",staticClass:"SendOfflineAddressBook",on:{setAddress:e.setAddress}})],1),s("v-col",{attrs:{cols:"12"}},[s("mew-input",{staticClass:"SendOfflineNonceInput",attrs:{label:e.$t("sendTx.nonce"),placeholder:"0",type:"number","error-messages":e.nonceErrors},model:{value:e.localNonce,callback:function(t){e.localNonce=t},expression:"localNonce"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mew-input",{staticClass:"mb-8 SendOFflineDataInput",attrs:{label:"Data",placeholder:"0x...","error-messages":e.dataErrors,disabled:e.disableData},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mew-input",{staticClass:"SendOfflineGasLimitInput",attrs:{label:e.$t("common.gas.limit"),"error-messages":e.gasLimitErrors,type:"number"},model:{value:e.gasLimit,callback:function(t){e.gasLimit=t},expression:"gasLimit"}})],1),s("v-col",{attrs:{cols:"12"}},[s("mew-input",{staticClass:"SendOfflineGasPriceInput",attrs:{label:"Gas Price (in gwei)","error-messages":e.gasPriceErrors,type:"number"},model:{value:e.gasPrice,callback:function(t){e.gasPrice=t},expression:"gasPrice"}})],1)],1),s("div",{staticClass:"d-flex flex-column mt-12"},[s("div",{staticClass:"text-center"},[s("mew-button",{staticClass:"SendOfflineGenerateTransactionButton",attrs:{title:"Generate Transaction","has-full-width":!1,"btn-size":"xlarge",disabled:e.isDisabledNextBtn},nativeOn:{click:function(t){return e.generateTx.apply(null,arguments)}}})],1),s("div",{staticClass:"text-center"},[s("div",{staticClass:"d-flex flex-column justify-center"},[s("input",{ref:"upload",staticClass:"SendOfflineUploadInput",staticStyle:{opacity:"0"},attrs:{type:"file",accept:"json"},on:{change:e.upload}}),s("mew-button",{staticClass:"mt-2 display--block mx-auto SendOfflineUploadJsonButton",attrs:{title:"Upload JSON file","btn-size":"small","btn-style":"transparent"},nativeOn:{click:function(t){return e.$refs.upload.click()}}})],1),s("mew-button",{attrs:{title:e.$t("common.clear-all"),"has-full-width":!1,"btn-size":"small","btn-style":"transparent"},nativeOn:{click:function(t){return e.clear()}}})],1)])]},proxy:!0}])}),s("mew-overlay",{attrs:{"show-overlay":e.isSignedTxOpen,title:"Signed Transaction",close:function(){return e.isSignedTxOpen=!1},"content-size":"xlarge"}},[e.signedTransaction?s("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[s("mew-text-area",{ref:"signedTxInput",staticClass:"SendOfflineSignedTxResultInput",staticStyle:{width:"100%"},attrs:{label:"Signed Transaction",readonly:"",value:e.signedTransaction.rawTransaction}}),s("mew-text-area",{staticClass:"mt-12",staticStyle:{width:"100%"},attrs:{label:"Signed Raw Transaction",readonly:"",value:e.signed}}),s("mew-button",{staticClass:"mt-5",attrs:{title:"Copy And Continue"},nativeOn:{click:function(t){return e.copyAndContinue.apply(null,arguments)}}}),s("div",{staticClass:"pt-3"},[s("a",{staticClass:"mew-body",attrs:{href:e.jsonFile,download:e.jsonFileName,rel:"noopener noreferrer"}},[e._v("Download")])])],1):e._e()])],1)},a=[],i=(s("e9c4"),s("88a7"),s("271a"),s("5494"),s("f1cd")),r=s.n(i),o=s("5ba3"),c=s("2f62"),l=s("901e"),d=s.n(l),u=s("99e5"),h=s.n(u),m=s("5b66"),p=s("2ef0"),b=s("e510"),w=s("7466"),g=s("9b88"),f=s("ac8e"),y={components:{ModuleAddressBook:()=>s.e("chunk-1b91a626").then(s.bind(null,"4b90"))},data(){return{isSignedTxOpen:!1,localNonce:"0",gasLimit:"21000",gasPrice:"0",toAddress:"",isValidAddress:!1,amount:"0",selectedCurrency:{},data:"0x",userInputType:"",defaultGasLimit:"21000",gasLimitError:"",amountError:"",signed:null,raw:null,signedTransaction:null,jsonFileName:"",jsonFile:null,tokens:[],nodes:b,chainID:1}},computed:{...Object(c["e"])("wallet",["address","instance"]),...Object(c["c"])("global",["network"]),networkToken(){return{symbol:this.network.type.currencyName,name:this.network.type.name}},isDisabledNextBtn(){return""!==this.nonceErrors||""!==this.dataErrors||""!==this.gasLimitErrors||""!==this.gasPriceErrors||""!==this.amountErrors||!this.validAddress},nonceErrors(){return d()(this.localNonce).lt(0)||""===this.localNonce||null===this.localNonce?"Nonce has to be greater than or equal to 0!":""},dataErrors(){return Object(o["isHexStrict"])(this.data)?"":"Invalid data hex"},gasLimitErrors(){return this.gasLimit?d()(this.gasLimit).lte(0)?"Gas limit must be greater than 0":d()(this.gasLimit).dp()>0?"Gas limit can not have decimal points":Object(o["toBN"])(this.gasLimit).lt(Object(o["toBN"])(this.defaultGasLimit))?"Amount too low. Transaction will fail":"":"Required"},gasPriceErrors(){return this.gasPrice?d()(this.gasPrice).lte(0)?"Gas price must be greater than 0":"":"Required"},amountErrors(){return this.amount?d()(this.amount).lt(0)?"Amount must be greater than or equal to 0":"":"Required"},disableData(){var e;return(null===(e=this.selectedCurrency)||void 0===e?void 0:e.symbol)!==this.network.type.currencyName},validAddress(){return""!==this.toAddress&&Object(m["isValidAddress"])(this.toAddress)},canGenerate(){return this.validAddress&&!Object(p["isEmpty"])(this.selectedCurrency)&&this.selectedCurrency.symbol!==this.network.type.currencyName}},watch:{signed(e){const t=JSON.parse(e),s=JSON.stringify(t),n=new Blob([s],{type:"mime"});this.jsonFileName=`signedTransactionObject-${+new Date}.json`,this.jsonFile=window.URL.createObjectURL(n)},selectedCurrency:{handler:function(){this.canGenerate&&this.generateData()},deep:!0},toAddress(){this.canGenerate&&this.generateData()},network(){this.selectedCurrency=this.networkToken,this.generateTokens()}},mounted(){this.selectedCurrency=this.networkToken,this.generateTokens()},methods:{...Object(c["b"])("wallet",["setWeb3Instance"]),...Object(c["b"])("global",["setNetwork"]),generateTokens(){const e=[this.networkToken];this.network.type.tokens.then(t=>{this.tokens=e.concat(t)})},generateData(){const e=new h.a(this.network.url),t=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],s=new e.eth.Contract(t,this.selectedCurrency.address),n=Object(o["toBN"])(this.amount);this.data=s.methods.transfer(this.toAddress.toLowerCase(),n).encodeABI()},copyAndContinue(){r()(this.$refs.signedTxInput.value),this.isSignedTxOpen=!1},clear(){this.$refs&&this.$refs.addressInput&&this.$refs.addressInput.clear(),this.toAddress="",this.selectedCurrency=this.networkToken,this.isValidAddress=!1,this.amount="0",this.data="0x",this.userInputType="",this.localNonce="0",this.gasPrice="0",this.defaultGasLimit="21000",this.gasLimitError="",this.amountError=""},setAddress(e,t,s){this.toAddress=e,this.isValidAddress=t,this.userInputType=s},upload({target:{files:e}}){const t=new FileReader,s=this;t.onloadend=function({target:{result:e}}){try{const t=JSON.parse(e);if(t.nonce){const e=Object(o["hexToNumberString"])(t.gasPrice);return s.localNonce=Object(o["hexToNumberString"])(t.nonce),s.gasPrice=Object(o["fromWei"])(e,"gwei"),s.chainID=Object(o["hexToNumberString"])(t.chainID),s.setNetworkDebounced(s.chainID),void(s.$refs.upload.value="")}Object(g["e"])("Malformed File",{},"error")}catch{Object(g["e"])("Incorrect File Type",{},"error")}},e[0]&&t.readAsBinaryString(e[0])},async generateTx(){const e=this.network.type.currencyName,t=this.selectedCurrency.symbol!==e,s=Object(o["toWei"])(this.amount,"ether"),n={nonce:Object(w["a"])(Object(f["h"])(this.localNonce).toString(16)),gasLimit:Object(w["a"])(Object(f["h"])(this.gasLimit).toString(16)),gasPrice:Object(w["a"])(Object(o["toWei"])(Object(f["h"])(this.gasPrice),"gwei").toString(16)),to:t?this.selectedCurrency.address:this.toAddress.toLowerCase().trim(),value:t?Object(w["a"])(Object(f["h"])(0).toString(16)):Object(w["a"])(Object(f["h"])(s).toString(16)),data:this.data,chainId:this.network.type.chainID};this.raw=n;const a=await this.instance.signTransaction(this.raw);this.signedTransaction=a,this.signed=JSON.stringify(a),window.scrollTo(0,0),this.clear(),this.isSignedTxOpen=!0},setNetworkDebounced:Object(p["debounce"])((function(e){var t;const s=Object.values(this.nodes).filter(t=>{if(t.type.chainID==e)return t});this.setNetwork({network:s[0],walletType:(null===(t=this.instance)||void 0===t?void 0:t.identifier)||""}).then(()=>{this.setWeb3Instance(),Object(g["e"])("Switched network to: "+s[0].type.name,{},g["d"])}).catch(e=>{Object(g["e"])(e,{},g["a"])})}),1e3)}},O=y,v=s("2877"),k=Object(v["a"])(O,n,a,!1,null,null,null);t["default"]=k.exports},f1cd:function(e,t){function s(){return new DOMException("The request is not allowed","NotAllowedError")}async function n(e){if(!navigator.clipboard)throw s();return navigator.clipboard.writeText(e)}async function a(e){const t=document.createElement("span");t.textContent=e,t.style.whiteSpace="pre",t.style.webkitUserSelect="auto",t.style.userSelect="all",document.body.appendChild(t);const n=window.getSelection(),a=window.document.createRange();n.removeAllRanges(),a.selectNode(t),n.addRange(a);let i=!1;try{i=window.document.execCommand("copy")}finally{n.removeAllRanges(),window.document.body.removeChild(t)}if(!i)throw s()}async function i(e){try{await n(e)}catch(t){try{await a(e)}catch(i){throw i||t||s()}}}
/*! clipboard-copy. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=i}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-62a38d9d.97731cd8.js.map