(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dapp-stakewise~f71cff67"],{"669a":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("the-wrapper-dapp",{attrs:{"is-new-header":!0,"dapp-img":e.headerImg,"banner-text":e.header,"tab-items":e.tabs,"active-tab":e.activeTab,"valid-networks":e.validNetworks,"top-strip":""}})},i=[],r=(a("14d9"),a("2f62")),n=a("901e"),h=a.n(n),l=a("5ba3"),o=a("35f4"),c=a("3ca5"),d=a("ac8e"),p=a("8b76"),w={name:"TheStakewiseLayout",components:{TheWrapperDapp:()=>Promise.resolve().then(a.bind(null,"580f"))},data(){return{header:{title:"Stakewise",subtext:"Stake any amount of ETH and begin earning rewards."},activeTab:0,headerImg:a("787b"),validNetworks:c["a"],stakewiseHandler:{},fetchInterval:null}},computed:{...Object(r["e"])("wallet",["web3","address"]),...Object(r["c"])("global",["isEthNetwork","network"]),isSupported(){const e=this.validNetworks.find(e=>e.name===this.network.type.name);return!!e},tabs(){const e=[{name:"Stake ETH",route:{name:o["a"].CORE.NAME},id:0}];return this.isEthNetwork&&e.push({name:"Compound Rewards",route:{name:o["a"].REWARDS.NAME},id:1}),e}},watch:{$route(e){e.name===o["a"].REWARDS.NAME?this.activeTab=this.tabs[1].id:this.activeTab=this.tabs[0].id},web3(){clearInterval(this.fetchInterval),this.isSupported&&this.setup()},network(){clearInterval(this.fetchInterval),this.isSupported&&this.setup()}},mounted(){this.$route.name===o["a"].REWARDS.NAME&&(this.activeTab=this.tabs[1].id),this.isSupported&&this.setup()},beforeDestroy(){clearInterval(this.fetchInterval)},methods:{...Object(r["b"])("stakewise",["setPoolSupply","setStakingFee","setValidatorApr","setRewardBalance","setStakeBalance"]),setup(){this.stakewiseHandler=new p["a"](this.web3,this.isEthNetwork),this.collectiveFetch(),this.fetchInterval=setInterval(()=>{this.collectiveFetch()},14e3)},collectiveFetch(){Promise.all([this.stakewiseHandler.getEthPool(),this.stakewiseHandler.getStakingFee(),this.stakewiseHandler.getValidatorApr(),this.stakewiseHandler.getSethBalance(this.address),this.stakewiseHandler.getRethBalance(this.address)]).then(e=>{this.setPoolSupply(e[0]),this.setStakingFee(e[1]),this.setValidatorApr(h()(e[2]).minus(h()(e[2]).times(.1)).dp(2).toString()),this.setStakeBalance(Object(l["fromWei"])(Object(d["h"])(e[3]))),this.setRewardBalance(Object(l["fromWei"])(Object(d["h"])(e[4])))})}}},u=w,b=a("2877"),k=Object(b["a"])(u,s,i,!1,null,null,null);t["default"]=k.exports},"787b":function(e,t,a){e.exports=a.p+"img/icon-dapp-stakewise.cc89987d.svg"}}]);
//# sourceMappingURL=../sourcemaps/js/dapp-stakewise~f71cff67.3d59479e.js.map