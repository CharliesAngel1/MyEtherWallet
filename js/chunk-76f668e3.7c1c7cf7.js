(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76f668e3"],{"022b":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("success-modal",{attrs:{"show-success-modal":t.showSuccessModal,"show-success-swap":t.showSuccessSwap,"success-title":t.successTitle,"reset-success":t.resetSuccess,reset:t.reset,network:t.network,links:t.links,"success-body-text":t.successBodyText,"has-close-button":!1}}),i("cross-chain-confirmation",{attrs:{"show-cross-chain-modal":t.showCrossChainModal,"tx-obj":t.tx,title:t.title,reset:t.rejectTransaction,"sent-btc":t.sendCrossChain},on:{close:t.rejectTransaction}}),i("app-modal",{attrs:{show:t.showTxOverlay,title:""!==t.title?t.title:"Confirmation",close:t.rejectTransaction,"btn-action":t.btnAction,"btn-enabled":t.disableBtn,"btn-text":t.toNonEth?"Proceed with swap":"Confirm & Send",scrollable:!0,anchored:!0,width:"650"},on:{close:t.rejectTransaction},scopedSlots:t._u([{key:"dialogBody",fn:function(){return[i("v-card-text",{ref:"scrollableContent",staticClass:"py-0 px-4 px-md-0"},[i("div",{staticClass:"px-4 py-6 pr-6 textBlack2--text border-radius--5px mb-5"},[i("b",[t._v("Please double check everything.")]),t._v(" MEW team will not be able to reverse your transaction once it's submitted. You will still be charged gas fee even if the transaction fails. "),i("a",{attrs:{href:t.getArticle("my-txn-failed-charged"),target:"_blank",rel:"noopener noreferrer"}},[t._v("Learn more.")])]),t.isSwap?i("confirmation-swap-transaction-details",{attrs:{to:t.swapInfo.to,from:t.swapInfo.from,"from-img":t.swapInfo.fromImg,"from-type":t.swapInfo.fromType,"to-type":t.swapInfo.toType,"to-img":t.swapInfo.toImg,"from-val":t.swapInfo.fromVal,"to-val":t.swapInfo.toVal,provider:t.swapInfo.selectedProvider,"to-usd":t.swapInfo.toUsdVal,"from-usd":t.swapInfo.fromUsdVal,"tx-fee":t.swapInfo.txFee,"gas-price-type":t.swapInfo.gasPriceType,"is-hardware":t.isHardware,"is-to-non-eth":t.toNonEth,"to-currency":t.swapInfo.toType,"to-address":t.swapInfo.to}}):i("confirmation-send-transaction-details",{attrs:{to:t.txTo,network:t.network,"tx-fee":t.txFee,"tx-fee-usd":t.txFeeUSD,value:t.value,"to-tx-data":t.tx.toTxData,"to-details":t.allToDetails,"send-currency":t.sendCurrency}}),t.isOnLedger?i("div",{staticClass:"ledger-warning d-flex justify-space-between px-4 py-6 border-radius--5px mb-5"},[i("div",[i("v-img",{staticClass:"ml-15",attrs:{src:s("8a64"),alt:"Ledger Wallet","max-width":"11em","max-height":"2.5em",contain:""}})],1),i("span",{staticClass:"textBlack2--text ml-2"},[i("b",[t._v("Using Ledger?")]),t._v(" Consider turning off 'debug data' before proceeding. Additional steps associated with the 'debug feature' on Ledger may be required to approve this transaction. ")])]):t._e(),t.showConfirmWithWallet?i("confirm-with-wallet",{attrs:{"tx-length":t.unsignedTxArr.length>0?t.unsignedTxArr.length:1,signed:t.signingPending,error:t.error}}):t._e(),i("v-expansion-panels",{staticClass:"expansion-border",attrs:{accordion:"",multiple:"",flat:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.transactions,(function(e,s){return i("v-expansion-panel",{key:""+e.title+e.value+s,staticClass:"bgWalletBlockDark",class:{"expansion-panel-border-bottom":t.transactions.length>1&&s!==t.transactions.length-1},on:{click:function(e){return t.scrollToElement(s)}}},[i("v-expansion-panel-header",{staticClass:"expansion-header",attrs:{"disable-icon-rotate":t.signing}},[i("v-row",{staticClass:"align-center pr-7 pl-2"},[i("p",{staticClass:"ma-0 pl-1"},[i("span",{staticClass:"font-weight-bold"},[t._v("Transaction "+t._s(t.transactions.length>1?""+(s+1):"details")+" ")]),i("br"),t.isBatch?i("span",{staticClass:"ma-0 mew-label greyPrimary--text"},[t._v(t._s(t.isSwap?"Swap ":"")+" part "+t._s(s+1)+" - "+t._s(t.dataToAction(t.unsignedTxArr[s])))]):""!==t.dataToAction(t.tx)?i("span",{staticClass:"ma-0 mew-label greyPrimary--text"},[t._v(t._s(t.dataToAction(t.tx)))]):t._e()]),i("v-spacer"),t.signing?i("div",[i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:""===t.error&&t.isBatch&&t.signedTxArray.length<s+1,expression:"\n                      error === '' && isBatch && signedTxArray.length < i + 1\n                    "}],staticClass:"pr-7",attrs:{indeterminate:"",color:"greenPrimary",size:"20",width:"2"}}),i("v-progress-circular",{directives:[{name:"show",rawName:"v-show",value:!t.isBatch&&0===Object.keys(t.signedTxObject).length,expression:"\n                      !isBatch && Object.keys(signedTxObject).length === 0\n                    "}],staticClass:"pr-7",attrs:{indeterminate:"",color:"greenPrimary",size:"20",width:"2"}}),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.isBatch&&0!==Object.keys(t.signedTxObject).length,expression:"\n                      !isBatch && Object.keys(signedTxObject).length !== 0\n                    "}],attrs:{color:"greenPrimary"}},[t._v(" mdi-check ")]),i("v-icon",{directives:[{name:"show",rawName:"v-show",value:""===t.error&&t.isBatch&&t.signedTxArray.length>=s+1,expression:"\n                      error === '' && isBatch && signedTxArray.length >= i + 1\n                    "}],attrs:{color:"greenPrimary"}},[t._v(" mdi-check ")])],1):t._e()],1)],1),i("v-expansion-panel-content",{attrs:{id:s}},[i("div",{staticClass:"pa-6 pt-0"},t._l(e,(function(e){return i("v-row",{key:""+e.title+e.value,staticClass:"d-flex justify-space-between mt-3",attrs:{"no-gutters":""}},[i("v-col",{staticClass:"d-flex d-sm-block ma-0 greyPrimary--text",attrs:{cols:"12",md:"3"}},[t._v(" "+t._s(e.title)+" ")]),i("v-col",{attrs:{cols:"12",md:"9"}},[i("app-scroll-block",[i("div",{staticClass:"data-values text-md-right"},[t._v(" "+t._s(e.value)+" ")])])],1)],1)})),1)])],1)})),1),t.toNonEth?i("div",{staticClass:"pt-4"},[t._v(" By clicking 'Proceed with swap', I agree to the "),i("a",{attrs:{href:"https://changelly.com/aml-kyc",target:"_blank"}},[t._v(" Changelly AML/KYC ")]),t._v(" and "),i("router-link",{attrs:{to:t.termRoute,target:"_blank"}},[t._v("Terms of Service")])],1):t._e()],1)]},proxy:!0}])}),i("mew-overlay",{attrs:{footer:t.footer,"show-overlay":t.showSignOverlay,title:t.title?t.title:"Message",close:t.reset,"content-size":"large"}},[i("confirmation-messsage",{ref:"messageConfirmationContainer",attrs:{msg:t.signature,copy:t.copyToClipboard}})],1)],1)},a=[],n=s("dc07"),r=n["a"],o=(s("bdaf"),s("2877")),c=Object(o["a"])(r,i,a,!1,null,"159de2b8",null);e["default"]=c.exports},1799:function(t,e,s){},"2f09":function(t,e,s){"use strict";var i=s("99e5"),a=s.n(i);const n={"0x095ea7b3":({data:t})=>{const e=(new a.a).eth.abi.decodeParameters(["address","uint256"],""+t.substr(10)),s=a.a.utils.toBN(e[1]);return s.isZero()?"Reset Approval":"Approval"},"0x7c025200":()=>"Swap","0x28ed4f6c":()=>"Set ENS controller","0x23b872dd":()=>"Transfer ENS name","0xacf1a841":()=>"Renew ENS name","0xac9650d8":()=>"Set ENS coins/text records","0xa9059cbb":()=>"Transfer Tokens","0xca0bfcce":()=>"Eth2 Staking","0xf14fcbc8":()=>"ENS Commitment","0xf7a16963":()=>"ENS Registration","0x33aaf6f2":()=>"ETH Blocks Mint"},r=t=>t.substr(0,10);e["a"]=t=>t.data&&"0x"!==t.data&&n[r(t.data)]?n[r(t.data)]({from:t.from,to:t.to,data:t.data,value:t.value}):""},"84e4":function(t,e,s){"use strict";var i=s("901e"),a=s.n(i),n=s("27ca"),r=s("99e5"),o=s.n(r);function c(t,e){const s=new o.a,i=n["a"].getters["external/contractToToken"](e),r={constant:!1,inputs:[{name:"_to",type:"address"},{name:"_amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},c=s.eth.abi.encodeFunctionSignature(r),h={tokenTransferTo:"",tokenTransferVal:"",tokenSymbol:""};if(t.substr(0,10)===c){const e=s.eth.abi.decodeParameters(["address","uint256"],""+t.substr(10)),n=new a.a(e[1]);h.tokenTransferTo=e[0],h.tokenTransferVal=i?n.div(new a.a(10).pow(i.decimals)).toFixed().toString():n.toString(),h.tokenSymbol=i?i.symbol:"Unidentified Token"}return h}e["a"]=c},"8a64":function(t,e,s){t.exports=s.p+"img/Ledger-Nano-X-Label-Icon.e56dc6a3.svg"},bdaf:function(t,e,s){"use strict";s("1799")},dc07:function(t,e,s){"use strict";(function(t){s("13d5"),s("e9c4"),s("caad"),s("ac1f"),s("5319"),s("14d9"),s("d9e2");var i=s("5ba3"),a=s("2ef0"),n=s("2f62"),r=s("901e"),o=s.n(r),c=s("8ded"),h=s("217a"),l=s("0421"),d=s("9b88"),p=s("84e4"),g=s("068e"),u=s("56fff"),w=s("3492"),x=s("2f09"),m=s("5965"),f=s("db3a"),T=s("2623");e["a"]={name:"ModuleConfirmation",components:{AppScrollBlock:()=>s.e("chunk-6eac12a8").then(s.bind(null,"8d1b")),ConfirmationMesssage:()=>s.e("chunk-2c5b6588").then(s.bind(null,"f791")),AppModal:()=>s.e("chunk-022856db").then(s.bind(null,"3820c")),ConfirmationSwapTransactionDetails:()=>s.e("chunk-2d0df7c6").then(s.bind(null,"89b1")),ConfirmationSendTransactionDetails:()=>s.e("chunk-2d21e946").then(s.bind(null,"d5ba")),ConfirmWithWallet:()=>s.e("chunk-c22c7b20").then(s.bind(null,"e55c")),SuccessModal:()=>s.e("chunk-26fb0c2f").then(s.bind(null,"65dc")),CrossChainConfirmation:()=>s.e("chunk-78d57c34").then(s.bind(null,"5015"))},mixins:[m["a"]],data(){return{footer:{text:"Need help?",linkTitle:"Contact support",link:"mailto:support@myetherwallet.com"},showTxOverlay:!1,showSignOverlay:!1,showSuccessModal:!1,showSuccessSwap:!1,showCrossChainModal:!1,toNonEth:!1,isSwap:!1,tx:{},resolver:()=>{},title:"",signedTxObject:{},signature:"",unsignedTxArr:[],signedTxArray:[],swapInfo:{},sendCurrency:{},toDetails:{},signing:!1,links:{explorer:""},error:"",panel:[],termRoute:"/"+f["a"].TERMS_OF_SERVICE.PATH}},computed:{...Object(n["e"])("wallet",["instance","web3","address","identifier","isHardware","isOfflineApp"]),...Object(n["c"])("external",["fiatValue"]),...Object(n["c"])("global",["network","getFiatValue"]),...Object(n["c"])("article",["getArticle"]),...Object(n["e"])("addressBook",["addressBookStore"]),txTo(){return this.isBatch?this.unsignedTxArr[0].to:this.tx.hasOwnProperty("toTxData")?this.tx.toTxData.to:this.tx.to},isWeb3Wallet(){return this.identifier===h["a"].WEB3_WALLET||this.identifier===h["a"].WALLET_CONNECT},isOtherWallet(){return this.identifier===h["a"].MEW_CONNECT||this.identifier===h["a"].WALLET_LINK},isOnLedger(){return"0x"!==this.tx.data&&this.identifier===h["a"].LEDGER},isNotSoftware(){return this.isHardware||this.isWeb3Wallet||this.isOtherWallet},showConfirmWithWallet(){return this.isNotSoftware&&(this.signing||""!==this.error)},transactions(){const t=this.unsignedTxArr.length>0?[].concat(this.unsignedTxArr):Object(a["isEmpty"])(this.tx)?[]:[this.tx];return this.arrayParser(t)},allToDetails(){const t=this.addressBookStore.find(t=>{var e,s;return(null===(e=this.tx.to)||void 0===e?void 0:e.toLowerCase())===(null===(s=t.address)||void 0===s?void 0:s.toLowerCase())});return{ensName:"RESOLVED"===this.toDetails.type?this.toDetails.value:"",nickname:t?t.nickname:"",selected:this.toDetails.type}},gasPrice(){if(!this.isBatch){const t=this.tx.gasPrice?this.tx.gasPrice:"0x";return Object(i["fromWei"])(Object(i["hexToNumberString"])(t),"gwei")}const t=this.unsignedTxArr[0].gasPrice;return Object(i["fromWei"])(Object(i["hexToNumberString"])(t),"gwei")},gasLimit(){if(!this.isBatch){const t=this.tx.gasLimit?this.tx.gasLimit:this.tx.gas?this.tx.gas:"0x";return Object(i["hexToNumberString"])(t)}const t=this.unsignedTxArr.reduce((t,e)=>t.plus(e.gas),o()(0));return Object(i["hexToNumberString"])(t)},txFee(){const t=o()(Object(i["toWei"])(this.gasPrice,"gwei")).times(this.gasLimit).toString();return Object(i["fromWei"])(t)},txFeeUSD(){return this.getFiatValue(o()(this.txFee).times(this.fiatValue).toFixed(2))},value(){if(!this.isBatch){const t=this.tx.value?this.tx.hasOwnProperty("toTxData")?this.tx.toTxData.amount:Object(i["fromWei"])(Object(i["hexToNumberString"])(this.tx.value)):"0x";return t}return"0"},disableBtn(){return""!==this.error||(!this.signing||(!this.isBatch||this.identifier!==h["a"].LEDGER)&&this.txSigned)},txSigned(){return this.isBatch?this.signedTxArray.length>0&&this.signedTxArray.length===this.unsignedTxArr.length:!Object(a["isEmpty"])(this.signedTxObject)},isBatch(){return this.unsignedTxArr.length>0},signingPending(){return this.isBatch?this.unsignedTxArr.length===this.signedTxArray.length:!Object(a["isEmpty"])(this.signedTxObject)},successTitle(){return this.showSuccessSwap?"Swap initiated":"Transaction initiated"},successBodyText(){return this.showSuccessSwap?"Once completed, the token amount will be deposited to your wallet. This should take a few minutes depending on how congested the Ethereum network is.":"Once completed, the token amount will be deposited to the address you provided. This should take a few minutes depending on how congested the Ethereum network is."}},watch:{error(t){""!==t&&(this.signedTxArray=[],this.signedTxObject={})},address(t){t&&this.resetSuccess()},signedTxArray:{handler:function(t){this.isWeb3Wallet&&0!==t.length&&t.length===this.unsignedTxArr.length&&(this.isSwap&&this.trackSwap("swapTransactionSuccessfullySent",t[t.length-1],this.network.type.name),this.showTxOverlay=!1,this.showSuccess(t))},deep:!0,immediate:!0}},created(){g["a"].$on(l["a"].SHOW_TX_CONFIRM_MODAL,async(t,e)=>{this.parseRawData(t[0]),this.title="Transaction Confirmation",this.tx=t[0],this.resolver=e,this.showTxOverlay=!0,this.tx.transactionFee=this.txFee,this.isSwap=!1,t[0].transactionFee=this.txFee,t.length>1&&(this.toDetails=t[1],this.sendCurrency=t[2]),this.isHardware||this.identifier===h["a"].WEB3_WALLET||await this.signTx()}),g["a"].$on(l["a"].SHOW_SWAP_TX_MODAL,async(t,e)=>{this.tx=t[0],this.swapInfo=t[1],this.resolver=e,this.showTxOverlay=!0,this.title="Verify Swap",this.toNonEth=!this.swapInfo.toTokenType.isEth,this.isSwap=!0,this.isHardware||this.identifier===h["a"].WEB3_WALLET||await this.signTx()}),g["a"].$on(l["a"].SHOW_BATCH_TX_MODAL,async(t,e,s)=>{this.isHardwareWallet=s,t[0].hasOwnProperty("confirmInfo")?(this.swapInfo=t[0].confirmInfo,this.title="Verify Swap",this.isSwap=!0):this.isSwap=!1,this.unsignedTxArr=t,e||(this.resolver=()=>{}),this.resolver=e,this.showTxOverlay=!0,s||this.identifier===h["a"].WEB3_WALLET||this.signBatchTx()}),g["a"].$on(l["a"].SHOW_MSG_CONFIRM_MODAL,(e,s)=>{this.title="Message Signed",this.isSwap=!1,this.instance.signMessage(e).then(i=>{const a=t.from(i).toString("hex");this.signature=JSON.stringify({address:this.address,msg:e,sig:a,version:"3",signer:this.isHardware?this.identifier:"MEW"},null,2),this.signedMessage=a,s(a),this.showSignOverlay=!0}).catch(t=>{this.reset(),this.instance.errorHandler(t)})}),g["a"].$on(l["a"].SHOW_CROSS_CHAIN_MODAL,(t,e)=>{this.title="Send "+t.fromType,this.tx=t,this.showCrossChainModal=!0,this.resolver=t=>{e(t),this.reset()}})},beforeDestroy(){g["a"].$off(l["a"].SHOW_TX_CONFIRM_MODAL),g["a"].$off(l["a"].SHOW_SWAP_TX_MODAL),g["a"].$off(l["a"].SHOW_MSG_CONFIRM_MODAL),g["a"].$off(l["a"].SHOW_CROSS_CHAIN_MODAL)},mounted(){this.isOfflineApp&&(this.footer={text:"Need help? Email us at support@myetherwallet.com",linkTitle:"",link:""})},methods:{rejectTransaction(){this.isSwap&&this.trackSwap("swapTxCancelled"),this.resolver({rejected:!0}),this.reset()},sendCrossChain(t){this.trackSwap("swapSendCrossChain"),this.resolver(t)},dataToAction(t){return Object(x["a"])(t)},scrollToElement(t){setTimeout(()=>{if(this.panel.includes(t)){const e=document.getElementById(t),s=this.$refs.scrollableContent,i={duration:500,offset:-60};this.$vuetify.goTo(e,{container:s,...i})}},500)},resetSuccess(){this.showSuccessSwap=!1,this.reset()},reset(){this.showTxOverlay=!1,this.showSignOverlay=!1,this.showSuccessModal=!1,this.showSuccessSwap=!1,this.showCrossChainModal=!1,this.toNonEth=!1,this.isSwap=!1,this.tx={},this.resolver=()=>{},this.title="",this.signedTxObject={},this.signature="",this.unsignedTxArr=[],this.signedTxArray=[],this.swapInfo={},this.sendCurrency={},this.toDetails={},this.signing=!1,this.links={explorer:""},this.error=""},parseRawData(t){let e={};t.to&&t.data&&"0xa9059cbb"===t.data.substr(0,10)&&(e=Object(p["a"])(t.data,t.to),t.fromTxData={currency:this.network.type.currencyName,amount:t.amount},t.toTxData={currency:e.tokenSymbol,amount:e.tokenTransferVal,to:e.tokenTransferTo}),t.network=this.network.type.name},async sendBatchTransaction(){const t=this,e=this.web3,s="sendSignedTransaction",a=this.signedTxArray,n=a.map((n,r)=>{const h=n.tx;h.from=t.address;const l=n.rawTransaction,d=e.eth[s](l);return h.network=t.network.type.name,h.gasPrice=Object(i["isHex"])(h.gasPrice)?Object(i["hexToNumberString"])(h.gasPrice):h.gasPrice,h.transactionFee=Object(i["fromWei"])(o()(h.gasPrice).times(h.gas).toString()),h.gasLimit=h.gas,Object(u["b"])(d,h,t.$store.dispatch),d.once("receipt",e=>{if(t.isSwap&&r+1===a.length){const s=e.transactionHash;t.trackSwap("swapTxReceivedReceipt",s,this.network.type.chainID)}}).on("transactionHash",e=>{const s=Object(i["sha3"])(`${t.network.type.name}-${t.address.toLowerCase()}`),n=c["get"](s);c["set"](s,{nonce:Object(w["f"])(new o.a(n.nonce).plus(1).toString(16)),timestamp:n.timestamp}),r+1===a.length&&(t.isSwap&&(t.showSuccessSwap=!0,t.trackSwap("swapTxBroadcasted",e,this.network.type.chainID)),t.reset(),t.showSuccess(e))}).catch(e=>{t.isSwap&&r+1===a.length&&(this.rejectedError(e.message)?t.trackSwap("swapTxRejected"):t.emitSwapTxFail(e))}),d});this.resolver(n)},sendSignedTx(){const t=this.signedTxObject.tx.hash;this.resolver(this.signedTxObject),this.isSwap&&(this.showSuccessSwap=!0),this.tx.data&&this.tx.data.includes("0x33aaf6f2")&&this.trackDapp("ethBlocksMinted"),this.reset(),this.showSuccess(t)},showSuccess(t){if(Object(a["isArray"])(t)){const e=t[t.length-1].tx.hash;return this.links.explorer=this.network.type.blockExplorerTX.replace("[[txHash]]",e),this.showSuccessModal=!0,void(this.isSwap&&this.trackSwap("swapTransactionSuccessfullySent",e,this.network.type.name))}this.links.explorer=this.network.type.blockExplorerTX.replace("[[txHash]]",t),this.showSuccessModal=!0,this.isSwap&&this.trackSwap("swapTransactionSuccessfullySent",t,this.network.type.chainID)},async signTx(){if(this.error="",this.isNotSoftware&&(this.signing=!0),this.isWeb3Wallet){const t=this.instance.signTransaction(this.tx);t.on("transactionHash",t=>{this.isSwap&&this.trackSwap("swapTxBroadcasted",t,this.network.type.chainID),this.showTxOverlay=!1,this.showSuccess(t)}).once("receipt",t=>{if(this.isSwap){const e=t.transactionHash;this.trackSwap("swapTxReceivedReceipt",e,this.network.type.chainID)}}).catch(t=>{this.isSwap&&(this.rejectedError(t.message)?this.trackSwap("swapTxRejected"):this.emitSwapTxFail(t)),this.signedTxObject={},this.error=Object(T["a"])(t),this.signing=!1}),this.resolver(t)}else await this.instance.signTransaction(this.tx).then(t=>{this.signedTxObject=t,this.isHardware&&this.txSigned&&this.btnAction()}).catch(t=>{this.isSwap&&this.trackSwap("swapTxCancelled"),this.signedTxObject={},this.error=Object(T["a"])(t),this.signing=!1;const e=Object(T["a"])(t,!0);e&&this.instance.errorHandler(e)})},async signBatchTx(){this.error="";const t=[],e=[];this.isNotSoftware&&(this.signing=!0);for(let n=0;n<this.unsignedTxArr.length;n++){const r=Object(a["cloneDeep"])(this.unsignedTxArr[n]);delete r["handleNotification"],delete r["currency"],delete r["confirmInfo"];try{if(this.isWeb3Wallet)await this.instance.signTransaction(r).then(s=>{const a=s.transactionHash;t.push({tx:{hash:a}}),e.push(s);const r=Object(i["sha3"])(`${this.network.type.name}-${this.address.toLowerCase()}`),h=c["get"](r);c["set"](r,{nonce:Object(w["f"])(new o.a(h.nonce).plus(1).toString(16)),timestamp:h.timestamp}),this.isSwap&&n+1===this.unsignedTxArr.length&&this.trackSwap("swapTxReceivedReceipt",a,this.network.type.chainID)}).catch(t=>{if(this.isSwap){if(this.rejectedError(t.message))throw this.trackSwap("swapTxRejected"),new Error(t.message);this.emitSwapTxFail(t)}throw this.signing=!1,this.instance.errorHandler(t.message),new Error(t.message)});else{const e=await this.instance.signTransaction(r);this.unsignedTxArr[n].hasOwnProperty("handleNotification")&&(e.tx["handleNotification"]=this.unsignedTxArr[n].handleNotification),t.push(e),this.isHardware&&this.txSigned&&this.btnAction()}this.signedTxArray=t}catch(s){return this.isSwap&&!this.isWeb3Wallet&&this.emitSwapTxFail(s),this.error=Object(T["a"])(s),this.signedTxArray=[],this.rejectedError(s.message)&&t.length>0?this.resolver(new Error("Batch transaction rejected in between transactions!")):this.resolver(new Error(s.message)),void(t.length>0&&this.reset())}}this.isWeb3Wallet||this.isHardware||this.isOtherWallet||(this.signing=!1),this.isWeb3Wallet&&this.resolver(e)},rejectedError(t){return"MetaMask Tx Signature: User denied transaction signature."===t||"User Rejected Request: The user rejected the request."===t},emitSwapTxFail(t){var e;const s=null===t||void 0===t||null===(e=t.receipt)||void 0===e?void 0:e.transactionHash;this.trackSwap("swapTxFailedV2",s,this.network.type.chainID)},btnAction(){if(this.isSwap&&this.trackSwap("swapTransactionSend"),!this.isWeb3Wallet)return(0===this.signedTxArray.length||this.signedTxArray.length<this.unsignedTxArr.length)&&Object(a["isEmpty"])(this.signedTxObject)?void(this.isBatch?this.signBatchTx():this.signTx()):void(this.isBatch?this.sendBatchTransaction():this.sendSignedTx());this.isBatch?this.signBatchTx():this.signTx()},copyToClipboard(){this.$refs.messageConfirmationContainer.$refs.signatureContent.$refs.input.select(),document.execCommand("copy"),window.getSelection().removeAllRanges(),Object(d["e"])(this.$t("common.copied"),{},d["d"]),this.reset()},arrayParser(t){const e=t.map(t=>{const e=t.gasLimit?t.gasLimit:t.gas?t.gas:"0x",s=t.gasPrice?t.gasPrice:"0x",n=t.data?t.data:t.hasOwnProperty("encodeABI")?t.encodeABI():"0x",r=Object(a["isEmpty"])(this.sendCurrency)?this.network.type.currencyName:this.sendCurrency.symbol,o="0x"!==n&&(this.isSwap||this.isBatch)?"0 "+this.network.type.currencyName:`${this.value} ${r}`,c=t.from?t.from:this.address,h=t.to?t.to:this.txTo;return[{title:"Network",value:this.network.type.name_long},{title:"From ENS",value:""},{title:"From address",value:c},{title:"0x"===n||this.isBatch?"To address":"Via Contract Address",value:h},{title:"Sending",value:o},{title:"Gas Price",value:Object(i["fromWei"])(Object(i["hexToNumberString"])(s),"gwei")+" gwei"},{title:"Gas Limit",value:Object(i["hexToNumberString"])(e)},{title:"Nonce",value:Object(i["hexToNumber"])(t.nonce)},{title:"Data",value:n}].filter(t=>{if(""!==t.value)return t})});return e}}}}).call(this,s("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-76f668e3.7c1c7cf7.js.map