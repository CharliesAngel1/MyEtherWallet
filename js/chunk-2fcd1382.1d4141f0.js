(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fcd1382"],{"373a":function(e,s,t){},5477:function(e,s,t){"use strict";t("373a")},5653:function(e,s,t){"use strict";(function(e){var i=t("5b66");const r=s=>Object(i["isHexString"])(s)?Object(i["toBuffer"])(s):e.from(s);s["a"]=r}).call(this,t("1c35").Buffer)},"9dda":function(e,s,t){"use strict";t.r(s);var i=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("mew-module",{staticClass:"d-flex flex-grow-1 pt-6",attrs:{title:e.title,"has-elevation":!0,"has-indicator":!0},scopedSlots:e._u([{key:"moduleBody",fn:function(){return[t("v-textarea",{staticClass:"VerifyInput",attrs:{outlined:"",label:"Signature",value:e.message},model:{value:e.message,callback:function(s){e.message=s},expression:"message"}}),e.signResult?t("div",{staticClass:"walletBg pa-3 VerifyMessage d-flex flex-wrap"},[t("span",{staticClass:"signer mr-1"},[e._v(" "+e._s(e.signer)+" ")]),e.didSign?t("span",{staticClass:"font-weight-medium"},[e._v(" did sign the message ")]):e._e(),e.didntSign?t("span",{staticClass:"font-weight-medium"},[e._v(" didn't sign the message ")]):e._e()]):e._e(),e.verificationError?t("div",{staticClass:"walletBg pa-3"},[e._v(" "+e._s(e.$t("signMessage.failed"))+" ")]):e._e(),t("div",{class:["text-right",e.signResult||e.verificationError?"pt-3":""]},[t("mew-button",{staticClass:"mr-4",attrs:{"btn-style":"light",title:"Clear all"},nativeOn:{click:function(s){return e.clearAll.apply(null,arguments)}}}),t("mew-button",{attrs:{disabled:!e.message,title:"Verify"},nativeOn:{click:function(s){return e.verifyMessage.apply(null,arguments)}}})],1)]},proxy:!0}])})},r=[],a=t("5b66"),n=t("dd34"),c={name:"ModuleMessageVerify",components:{},data(){return{title:"Verify Message",didSign:!1,didntSign:!1,signResult:!1,verificationError:!1,message:"",signer:""}},computed:{},mounted(){this.signAndVerify=new n["a"](this.web3,this.address)},methods:{verifyMessage(){try{this.verificationError=!1,this.signResult=!1,this.didSign=!1,this.didntSign=!1;const e=this.signAndVerify.verifyMessage(this.message),s=JSON.parse(this.message);if(!s.address)return void(this.verificationError=!0);e.verified&&Object(a["toChecksumAddress"])(s.address)===Object(a["toChecksumAddress"])("0x"+e.signer)?this.didSign=!0:this.didntSign=!0,this.signer=s.address,this.signResult=!0}catch{this.verificationError=!0}},clearAll(){this.verificationError=!1,this.didntSign=!1,this.didSign=!1,this.signResult=!1,this.message="",this.signer=""}}},d=c,l=(t("5477"),t("2877")),o=Object(l["a"])(d,i,r,!1,null,"3340227e",null);s["default"]=o.exports},b7ea:function(e,s,t){"use strict";s["a"]={SIGN_FAILED:"Failed to sign message",INVALID_LENGTH:"Invalid signature length",FAILED_TO_VERIFY:"Failed to verify signature"}},dd34:function(e,s,t){"use strict";(function(e){t.d(s,"a",(function(){return d}));t("e9c4"),t("ac1f"),t("5319");var i=t("5b66"),r=t("5653"),a=t("27ca"),n=t("2f62"),c=t("b7ea");class d{constructor(){this.$store=a["a"],Object.assign(this,Object(n["e"])("wallet",["web3","address","isHardware","identifier"]))}signMessage(e){const s=this;try{return this.web3().eth.sign(e,this.address()).then(e=>(s.signature=JSON.stringify({address:s.address(),msg:s.message,sig:e,version:"3",signer:s.isHardware()?s.identifier():"MEW"},null,2),s.signature))}catch(t){throw c["a"].SIGN_FAILED}}verifyMessage(s){try{const t=JSON.parse(s);let a=Object(i["hashPersonalMessage"])(Object(r["a"])(t.msg));const n=e.from(t.sig.replace("0x",""),"hex");if(65!==n.length)throw c["a"].INVALID_LENGTH;n[64]=0===n[64]||1===n[64]?n[64]+27:n[64],"1"===t.version&&(a=this.web3().utils.sha3(t.msg));const d=Object(i["ecrecover"])(a,n[64],n.slice(0,32),n.slice(32,64));return{verified:!t.address.replace("0x","").toLowerCase()!==Object(i["pubToAddress"])(d).toString("hex").toLowerCase(),signer:Object(i["pubToAddress"])(d).toString("hex").toLowerCase()}}catch(t){throw c["a"].FAILED_TO_VERIFY}}}}).call(this,t("1c35").Buffer)}}]);
//# sourceMappingURL=../sourcemaps/js/chunk-2fcd1382.1d4141f0.js.map