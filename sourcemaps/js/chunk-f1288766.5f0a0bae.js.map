{"version":3,"sources":["webpack:///./src/modules/buy-sell/components/BuyComponent.vue?f6d9","webpack:///./src/modules/buy-sell/components/BuyComponent.vue?9068","webpack:///src/modules/buy-sell/components/BuyComponent.vue","webpack:///./src/modules/buy-sell/components/BuyComponent.vue?735f","webpack:///./src/modules/buy-sell/components/BuyComponent.vue","webpack:///./src/modules/buy-sell/components/BuyComponent.vue?9fb7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","staticStyle","attrs","amountErrorMessages","nativeOn","$event","preventCharE","model","value","callback","$$v","amount","expression","fiatCurrencyItems","selectedFiat","scopedSlots","_u","key","fn","_s","includesFeeText","networkFeeText","dailyLimit","monthlyLimit","proxy","loading","cryptoToFiat","selectedCryptoName","plusFeeF","on","openTokenSelect","selectedCurrency","img","name","inWallet","_e","ref","setAddress","disableBuy","buyBtnTitle","isValidToAddress","buy","apply","arguments","currencyItems","setCurrency","staticRenderFns","components","ModuleAddressBook","BuySellTokenSelect","props","orderHandler","type","Object","default","defaultCurrency","Boolean","supportedBuy","data","require","fetchedData","currencyRates","toAddress","validToAddress","gasPrice","web3Connections","simplexQuote","showMoonpay","disableCurrencySelect","localCryptoAmount","computed","mapGetters","mapState","percentFee","formatFiatValue","minFee","currencyConfig","symbol","networkFeeToFiat","moonpayMax","max","moonpay","simplexMax","simplex","Math","toString","BigNumber","fiatMultiplier","times","fiat","rate","currencyRate","currency","hasData","selectedCurrencyPrice","conversion_rates","find","item","fiat_currency","selectedFiatName","exchange_rate","toBN","actualAddress","address","actualValidAddress","networkFee","fromWei","priceOb","isEmpty","crypto_currency","price","prices","plusFee","fee","isEUR","div","withFee","gt","minus","_this$selectedCurrenc","isNaN","eq","lt","min","toFixed","maxVal","tokens","buyContracts","reduce","arr","inList","tokensList","t","contract","toLowerCase","push","token","contractToToken","Array","tokensListWPrice","length","map","priceRate","actualPrice","quotes","quote","returnedArray","moonpayCryptoAmount","simplexCryptoAmount","formatFloatingPointValue","crypto_amount","arrItems","fiat_currencies","filter","getCurrency","dataToArray","values","moonPay","limits","limit","foundLimit","hideSimplex","watch","handler","newVal","oldVal","_newVal$contract","supportedCoins","ETH","BNB","MATIC","MAIN_TOKEN_ADDRESS","isEqual","fetchCurrencyData","$emit","deep","substring","replace","multipliedBy","network","checkMoonPayMax","getSimplexQuote","coinGeckoTokens","mounted","_this$$refs$addressIn","$refs","addressInput","addressSelect","clear","methods","isValid","includes","_this$selectedCurrenc2","supportedNodes","nodeType","node","nodeList","web3","Web3","url","eth","getGasPrice","isLT","num","num2","MultiCoinValidator","validate","hideMoonpay","e","_this$selectedCurrenc3","fetchData","fetchGasPrice","getSupportedFiatToBuy","then","res","getFiatRatesForBuy","cloneDeep","assign","catch","Toast","ERROR","compareQuotes","buyObj","fiatAmount","preventDefault","component"],"mappings":"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","file":"js/chunk-f1288766.5f0a0bae.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyComponent.vue?vue&type=style&index=0&id=df6e295a&prod&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-8 px-8 moonpay-buy-component\"},[_c('div',{staticClass:\"mt-2\"},[_c('div',{staticClass:\"font-weight-medium textDark--text mb-2\"},[_vm._v(\" How much do you want to spend? \")]),_c('div',{staticClass:\"d-flex align-center\"},[_c('mew-input',{staticClass:\"no-right-border\",staticStyle:{\"max-height\":\"92px\",\"max-width\":\"251px\"},attrs:{\"hide-clear-btn\":\"\",\"type\":\"number\",\"error-messages\":_vm.amountErrorMessages},nativeOn:{\"keydown\":function($event){return _vm.preventCharE($event)}},model:{value:(_vm.amount),callback:function ($$v) {_vm.amount=$$v},expression:\"amount\"}}),_c('mew-select',{staticClass:\"selectedFiat no-left-border\",staticStyle:{\"max-width\":\"135px\",\"margin-top\":\"-30px\"},attrs:{\"items\":_vm.fiatCurrencyItems,\"is-custom\":\"\"},model:{value:(_vm.selectedFiat),callback:function ($$v) {_vm.selectedFiat=$$v},expression:\"selectedFiat\"}})],1)]),_c('div',{staticClass:\"mt-2\"},[_c('div',{staticClass:\"d-flex align-center mb-2\"},[_c('div',{staticClass:\"font-weight-medium textDark--text mr-1\"},[_vm._v(\"You will get\")]),_c('mew-tooltip',{staticStyle:{\"height\":\"21px\"},scopedSlots:_vm._u([{key:\"contentSlot\",fn:function(){return [_c('div',[_vm._v(\" \"+_vm._s(_vm.includesFeeText)+\" \"),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.networkFeeText)+\" \"),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.dailyLimit)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.monthlyLimit)+\" \")])]},proxy:true}])})],1),_c('div',{staticClass:\"d-flex align-start\"},[_c('mew-input',{staticClass:\"no-right-border\",attrs:{\"is-read-only\":\"\",\"value\":!_vm.loading\n            ? (_vm.cryptoToFiat + \" \" + _vm.selectedCryptoName + \" ≈ \" + _vm.plusFeeF + \" \")\n            : 'Loading...',\"hide-clear-btn\":\"\"}}),_c('div',{staticClass:\"d-flex align-center token-select-button\",on:{\"click\":function($event){_vm.openTokenSelect = true}}},[_c('mew-token-container',{attrs:{\"img\":_vm.selectedCurrency.img,\"size\":\"28px\"}}),_c('div',{staticClass:\"basic--text\",staticStyle:{\"margin-left\":\"8px\"}},[_vm._v(\" \"+_vm._s(_vm.selectedCurrency.name)+\" \")]),_c('v-icon',{staticClass:\"ml-auto\",attrs:{\"size\":\"20px\",\"color\":\"titlePrimary\"}},[_vm._v(\" mdi-chevron-down \")])],1)],1)]),(!_vm.inWallet)?_c('div',{staticClass:\"mt-2\"},[_c('div',{staticClass:\"font-weight-medium textDark--text mb-2\"},[_vm._v(\" Where should we send your crypto? \")]),_c('module-address-book',{ref:\"addressInput\",attrs:{\"label\":\"Enter Crypto Address\",\"currency\":_vm.selectedCryptoName,\"enable-save-address\":false,\"is-home-page\":true},on:{\"setAddress\":_vm.setAddress}})],1):_vm._e(),_c('mew-button',{staticClass:\"mt-2\",attrs:{\"btn-size\":\"xlarge\",\"has-full-width\":\"\",\"disabled\":_vm.disableBuy,\"title\":_vm.buyBtnTitle,\"is-valid-address-func\":_vm.isValidToAddress},nativeOn:{\"click\":function($event){return _vm.buy.apply(null, arguments)}}}),_c('buy-sell-token-select',{attrs:{\"open\":_vm.openTokenSelect,\"currency-items\":_vm.currencyItems,\"selected-currency\":_vm.selectedCurrency,\"set-currency\":_vm.setCurrency,\"in-wallet\":_vm.inWallet},on:{\"close\":function($event){_vm.openTokenSelect = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"py-8 px-8 moonpay-buy-component\">\n    <!-- ========================================================================= -->\n    <!-- Sending amount in fiat -->\n    <!-- ========================================================================= -->\n    <div class=\"mt-2\">\n      <div class=\"font-weight-medium textDark--text mb-2\">\n        How much do you want to spend?\n      </div>\n      <div class=\"d-flex align-center\">\n        <mew-input\n          v-model=\"amount\"\n          hide-clear-btn\n          type=\"number\"\n          :error-messages=\"amountErrorMessages\"\n          class=\"no-right-border\"\n          style=\"max-height: 92px; max-width: 251px\"\n          @keydown.native=\"preventCharE($event)\"\n        />\n        <mew-select\n          v-model=\"selectedFiat\"\n          style=\"max-width: 135px; margin-top: -30px\"\n          :items=\"fiatCurrencyItems\"\n          is-custom\n          class=\"selectedFiat no-left-border\"\n        />\n      </div>\n    </div>\n\n    <!-- ========================================================================= -->\n    <!-- Receiving amount in crypto -->\n    <!-- ========================================================================= -->\n    <div class=\"mt-2\">\n      <div class=\"d-flex align-center mb-2\">\n        <div class=\"font-weight-medium textDark--text mr-1\">You will get</div>\n        <mew-tooltip style=\"height: 21px\">\n          <template #contentSlot>\n            <div>\n              {{ includesFeeText }}\n              <br />\n              <br />\n              {{ networkFeeText }}\n              <br />\n              <br />\n              {{ dailyLimit }}\n              <br />\n              {{ monthlyLimit }}\n            </div>\n          </template>\n        </mew-tooltip>\n      </div>\n      <div class=\"d-flex align-start\">\n        <mew-input\n          is-read-only\n          :value=\"\n            !loading\n              ? `${cryptoToFiat} ${selectedCryptoName} ≈ ${plusFeeF} `\n              : 'Loading...'\n          \"\n          hide-clear-btn\n          class=\"no-right-border\"\n        />\n        <div\n          class=\"d-flex align-center token-select-button\"\n          @click=\"openTokenSelect = true\"\n        >\n          <mew-token-container :img=\"selectedCurrency.img\" size=\"28px\" />\n          <div class=\"basic--text\" style=\"margin-left: 8px\">\n            {{ selectedCurrency.name }}\n          </div>\n          <v-icon class=\"ml-auto\" size=\"20px\" color=\"titlePrimary\">\n            mdi-chevron-down\n          </v-icon>\n        </div>\n      </div>\n    </div>\n\n    <!-- ========================================================================= -->\n    <!-- Receiver's address -->\n    <!-- ========================================================================= -->\n    <div v-if=\"!inWallet\" class=\"mt-2\">\n      <div class=\"font-weight-medium textDark--text mb-2\">\n        Where should we send your crypto?\n      </div>\n      <module-address-book\n        ref=\"addressInput\"\n        label=\"Enter Crypto Address\"\n        :currency=\"selectedCryptoName\"\n        :enable-save-address=\"false\"\n        :is-home-page=\"true\"\n        @setAddress=\"setAddress\"\n      />\n    </div>\n\n    <!-- ========================================================================= -->\n    <!-- BUY NEW button -->\n    <!-- ========================================================================= -->\n    <mew-button\n      class=\"mt-2\"\n      btn-size=\"xlarge\"\n      has-full-width\n      :disabled=\"disableBuy\"\n      :title=\"buyBtnTitle\"\n      :is-valid-address-func=\"isValidToAddress\"\n      @click.native=\"buy\"\n    />\n\n    <!-- ========================================================================= -->\n    <!-- Token select popup -->\n    <!-- ========================================================================= -->\n    <buy-sell-token-select\n      :open=\"openTokenSelect\"\n      :currency-items=\"currencyItems\"\n      :selected-currency=\"selectedCurrency\"\n      :set-currency=\"setCurrency\"\n      :in-wallet=\"inWallet\"\n      @close=\"openTokenSelect = false\"\n    />\n  </div>\n</template>\n\n<script>\nimport MultiCoinValidator from 'multicoin-address-validator';\nimport { isEmpty, cloneDeep, isEqual } from 'lodash';\nimport { mapGetters, mapState } from 'vuex';\nimport BigNumber from 'bignumber.js';\nimport Web3 from 'web3';\nimport { fromWei, toBN } from 'web3-utils';\nimport { ERROR, Toast } from '@/modules/toast/handler/handlerToast';\nimport nodeList from '@/utils/networks';\nimport {\n  formatFloatingPointValue,\n  formatFiatValue\n} from '@/core/helpers/numberFormatHelper';\nimport { getCurrency } from '@/modules/settings/components/currencyList';\nimport { buyContracts } from './tokenList';\nimport { MAIN_TOKEN_ADDRESS } from '@/core/helpers/common';\nimport ModuleAddressBook from '@/modules/address-book/ModuleAddressBook.vue';\nimport BuySellTokenSelect from '@/modules/buy-sell/components/TokenSelect.vue';\n\nexport default {\n  name: 'ModuleBuyEth',\n  components: { ModuleAddressBook, BuySellTokenSelect },\n  props: {\n    orderHandler: {\n      type: Object,\n      default: () => {}\n    },\n    defaultCurrency: {\n      type: Object,\n      default: () => {}\n    },\n    inWallet: {\n      type: Boolean,\n      default: false\n    },\n    supportedBuy: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      openTokenSelect: false,\n      selectedCurrency: this.defaultCurrency,\n      loading: true,\n      selectedFiat: {\n        name: 'USD',\n        value: 'USD',\n        // eslint-disable-next-line\n        img: require(`@/assets/images/currencies/USD.svg`)\n      },\n      fetchedData: {},\n      currencyRates: [],\n      amount: '300',\n      toAddress: '',\n      validToAddress: false,\n      gasPrice: '0',\n      web3Connections: {},\n      simplexQuote: {},\n      showMoonpay: true,\n      disableCurrencySelect: true,\n      localCryptoAmount: '0'\n    };\n  },\n  computed: {\n    ...mapGetters('global', ['network', 'getFiatValue']),\n    ...mapState('wallet', ['web3', 'address']),\n    ...mapState('external', ['currencyRate', 'coinGeckoTokens']),\n    ...mapGetters('external', ['contractToToken']),\n    ...mapGetters('wallet', ['tokensList']),\n    includesFeeText() {\n      return `Includes ${this.percentFee} fee (${\n        formatFiatValue(this.minFee, this.currencyConfig).value\n      } min)`;\n    },\n    networkFeeText() {\n      return `${\n        this.selectedCurrency.symbol\n      } network fee (for transfers to your wallet) ~${\n        formatFiatValue(this.networkFeeToFiat, this.currencyConfig).value\n      }`;\n    },\n    dailyLimit() {\n      const moonpayMax = this.max.moonpay;\n      const simplexMax = this.max.simplex;\n      const value = Math.max(moonpayMax.toString(), simplexMax.toString());\n      return `Daily limit: ${\n        formatFiatValue(value.toString(), this.currencyConfig).value\n      }`;\n    },\n    monthlyLimit() {\n      const value = BigNumber(this.fiatMultiplier).times(50000);\n      return `Monthly limit: ${\n        formatFiatValue(value.toString(), this.currencyConfig).value\n      }`;\n    },\n    currencyConfig() {\n      const fiat = this.selectedFiat.value;\n      const rate = this.currencyRate[fiat];\n      const currency = fiat;\n      return { rate, currency };\n    },\n    fiatMultiplier() {\n      if (this.hasData) {\n        const selectedCurrencyPrice = this.fetchedData[0].conversion_rates.find(\n          item => item.fiat_currency === this.selectedFiatName\n        );\n        return selectedCurrencyPrice\n          ? BigNumber(selectedCurrencyPrice.exchange_rate)\n          : toBN(1);\n      }\n      return toBN(1);\n    },\n    selectedFiatName() {\n      return this.selectedFiat.name;\n    },\n    actualAddress() {\n      return this.inWallet ? this.address : this.toAddress;\n    },\n    actualValidAddress() {\n      return this.inWallet ? true : this.validToAddress;\n    },\n    networkFee() {\n      return fromWei(BigNumber(this.gasPrice).times(21000).toString());\n    },\n    priceOb() {\n      return !isEmpty(this.fetchedData)\n        ? this.fetchedData[0].prices.find(\n            item => item.fiat_currency === this.selectedFiatName\n          )\n        : { crypto_currency: 'ETH', fiat_currency: 'USD', price: '3379.08322' };\n    },\n    networkFeeToFiat() {\n      return BigNumber(this.networkFee).times(this.priceOb.price).toString();\n    },\n    minFee() {\n      return BigNumber(4.43).times(this.fiatMultiplier).toString();\n    },\n    plusFee() {\n      const fee = this.isEUR\n        ? BigNumber(BigNumber(0.7).div(100)).times(this.amount)\n        : BigNumber(BigNumber(3.25).div(100)).times(this.amount);\n      const withFee = fee.gt(this.minFee)\n        ? BigNumber(this.amount).minus(fee)\n        : BigNumber(this.amount).minus(fee).minus(this.minFee);\n      return withFee.minus(this.networkFeeToFiat).toString();\n    },\n    plusFeeF() {\n      return formatFiatValue(this.plusFee, this.currencyConfig).value;\n    },\n    percentFee() {\n      return this.isEUR ? '0.7%' : '3.25%';\n    },\n    selectedCryptoName() {\n      return this.selectedCurrency?.symbol ? this.selectedCurrency.symbol : '';\n    },\n    isEUR() {\n      return this.selectedFiatName === 'EUR' || this.selectedFiatName === 'GBP';\n    },\n    disableBuy() {\n      return (\n        (!this.inWallet && !this.actualValidAddress) ||\n        this.loading ||\n        this.amountErrorMessages !== '' ||\n        !this.supportedBuy\n      );\n    },\n    buyBtnTitle() {\n      return 'BUY NOW';\n    },\n    amountErrorMessages() {\n      if (BigNumber(this.amount).isNaN() || BigNumber(this.amount).eq(0)) {\n        return 'Amount required';\n      }\n      if (BigNumber(this.amount).lt(0)) {\n        return `Amount can't be negative`;\n      }\n      if (this.min.gt(this.amount)) {\n        return `Amount can't be below provider's minimum: ${\n          formatFiatValue(this.min.toFixed(), this.currencyConfig).value\n        } ${this.selectedFiatName}`;\n      }\n      if (this.maxVal.lt(this.amount)) {\n        return `Amount can't be above provider's maximum: ${\n          formatFiatValue(this.maxVal.toFixed(), this.currencyConfig).value\n        } ${this.selectedFiatName}`;\n      }\n      return '';\n    },\n    tokens() {\n      if (this.inWallet) {\n        return buyContracts.reduce((arr, item) => {\n          const inList = this.tokensList.find(t => {\n            if (t.contract.toLowerCase() === item.toLowerCase()) return t;\n          });\n          if (inList) {\n            arr.push(inList);\n            return arr;\n          }\n          const token = this.contractToToken(item);\n          if (token) arr.push(token);\n          return arr;\n        }, []);\n      }\n      const arr = new Array();\n      for (const contract of buyContracts) {\n        const token = this.contractToToken(contract);\n        if (token) arr.push(token);\n      }\n      return arr;\n    },\n    currencyItems() {\n      if (!this.supportedBuy) return;\n      const tokensListWPrice =\n        this.currencyRates.length > 0\n          ? this.tokens.map(token => {\n              const priceRate = this.currencyRates.find(rate => {\n                return rate.crypto_currency === token.symbol;\n              });\n              const actualPrice = priceRate?.quotes.find(quote => {\n                return quote.fiat_currency === this.selectedFiatName;\n              });\n              token.price = formatFiatValue(\n                actualPrice ? actualPrice.price : '0',\n                this.currencyConfig\n              ).value;\n              token.value = token.name;\n              token.name = token.symbol;\n              return token;\n            })\n          : this.tokens;\n      const returnedArray = [...tokensListWPrice];\n      return returnedArray;\n    },\n    hasData() {\n      return !isEmpty(this.fetchedData);\n    },\n    cryptoToFiat() {\n      return this.showMoonpay\n        ? this.moonpayCryptoAmount\n        : this.simplexCryptoAmount;\n    },\n    moonpayCryptoAmount() {\n      return formatFloatingPointValue(\n        BigNumber(this.plusFee).div(this.priceOb.price).toString()\n      ).value;\n    },\n    simplexCryptoAmount() {\n      return formatFloatingPointValue(this.simplexQuote.crypto_amount).value;\n    },\n    fiatCurrencyItems() {\n      const arrItems = this.hasData\n        ? this.fetchedData[0].fiat_currencies.filter(item => item !== 'RUB')\n        : ['USD'];\n      return getCurrency(arrItems);\n    },\n    max() {\n      if (this.hasData) {\n        const dataToArray = Object.values(this.fetchedData);\n        const moonPay = dataToArray.find(item => item.name === 'MOONPAY');\n        const simplex = dataToArray.find(item => item.name === 'SIMPLEX');\n        const moonpayMax = moonPay?.limits.find(\n          item => item.fiat_currency === this.selectedFiatName\n        );\n        const simplexMax = simplex?.limits.find(\n          item => item.fiat_currency === this.selectedFiatName\n        );\n        return {\n          moonpay: moonpayMax ? BigNumber(moonpayMax.limit.max) : BigNumber(0),\n          simplex: simplexMax ? BigNumber(simplexMax.limit.max) : BigNumber(0)\n        };\n      }\n      return {\n        moonpay: BigNumber(0),\n        simplex: BigNumber(0)\n      };\n    },\n    maxVal() {\n      const moonpayMax = this.max.moonpay;\n      const simplexMax = this.max.simplex;\n      const maxVal = Math.max(moonpayMax.toString(), simplexMax.toString());\n      return BigNumber(maxVal);\n    },\n    min() {\n      if (this.hasData) {\n        const foundLimit = this.fetchedData[0].limits.find(\n          item => item.fiat_currency === this.selectedFiatName\n        );\n        return foundLimit ? BigNumber(foundLimit.limit.min) : BigNumber(30);\n      }\n      return BigNumber(30);\n    },\n    hideSimplex() {\n      return (\n        this.selectedCryptoName === 'USDC' ||\n        this.selectedCryptoName === 'USDT' ||\n        this.selectedCryptoName === 'DAI'\n      );\n    }\n  },\n  watch: {\n    selectedCurrency: {\n      handler: function (newVal, oldVal) {\n        const supportedCoins = {\n          ETH: 'ETH',\n          BNB: 'BNB',\n          MATIC: 'MATIC'\n        };\n        if (\n          !newVal ||\n          (newVal?.contract?.toLowerCase() === MAIN_TOKEN_ADDRESS &&\n            !supportedCoins[newVal.symbol])\n        ) {\n          this.selectedCurrency = oldVal;\n          return;\n        }\n        if (!isEqual(newVal, oldVal)) {\n          this.fetchCurrencyData();\n        }\n        this.$emit('selectedCurrency', this.selectedCurrency);\n      },\n      deep: true\n    },\n    selectedFiat: {\n      handler: function (newVal, oldVal) {\n        if (!isEqual(newVal, oldVal)) {\n          const token = this.currencyItems.find(\n            item => item.name === this.selectedCryptoName\n          );\n          const price = token.price.substring(1).replace(',', '');\n          this.amount = BigNumber(this.localCryptoAmount)\n            .multipliedBy(price)\n            .toFixed(2);\n          this.localCryptoAmount = BigNumber(this.amount).div(price).toString();\n          this.$emit('selectedFiat', newVal);\n        }\n      },\n      deep: true\n    },\n    network: {\n      handler: function () {\n        this.selectedCurrency = {};\n        this.selectedCurrency = this.defaultCurrency;\n      },\n      deep: true\n    },\n    orderHandler: {\n      handler: function () {\n        this.fetchCurrencyData();\n      },\n      deep: true\n    },\n    amount: {\n      handler: function (newVal) {\n        const simplexMax = this.max.simplex.multipliedBy(this.fiatMultiplier);\n        this.checkMoonPayMax();\n        if (\n          simplexMax.lt(newVal) ||\n          isEmpty(newVal) ||\n          this.min.gt(newVal) ||\n          isNaN(newVal)\n        ) {\n          this.loading = true;\n        } else {\n          this.loading = false;\n          this.getSimplexQuote();\n          this.localCryptoAmount = BigNumber(this.amount)\n            .div(this.priceOb.price)\n            .toString();\n        }\n      }\n    },\n    validToAddress: {\n      handler: function (newVal) {\n        if (!newVal) return;\n        this.$emit('toAddress', this.toAddress);\n        this.getSimplexQuote();\n      }\n    },\n    coinGeckoTokens: {\n      handler: function () {\n        this.fetchCurrencyData();\n      }\n    },\n    openTokenSelect() {\n      this.$emit('openTokenSelect', this.openTokenSelect);\n    }\n  },\n  mounted() {\n    if (!this.inWallet) this.$refs.addressInput.$refs?.addressSelect.clear();\n    this.fetchCurrencyData();\n  },\n  methods: {\n    setAddress(newVal, isValid, data) {\n      if (data.type === 'RESOLVED' && !data.value.includes('.'))\n        this.toAddress = data.value;\n      else this.toAddress = newVal;\n      this.validToAddress = isValid;\n    },\n    async fetchGasPrice() {\n      const supportedNodes = {\n        ETH: 'ETH',\n        BNB: 'BSC',\n        MATIC: 'MATIC'\n      };\n      const nodeType = !supportedNodes[this.selectedCurrency?.symbol]\n        ? 'ETH'\n        : supportedNodes[this.selectedCurrency.symbol];\n      const node = nodeList[nodeType];\n      if (!this.web3Connections[nodeType]) {\n        const web3 = new Web3(node[0].url);\n        this.web3Connections[nodeType] = web3;\n      }\n      this.gasPrice = await this.web3Connections[nodeType].eth.getGasPrice();\n    },\n    isLT(num, num2) {\n      return BigNumber(num).lt(num2);\n    },\n    isValidToAddress(address) {\n      return MultiCoinValidator.validate(address, this.selectedCurrency.symbol);\n    },\n    checkMoonPayMax() {\n      const moonpayMax = this.max.moonpay;\n      const hideMoonpay = this.isLT(moonpayMax, this.amount);\n      this.$emit('hideMoonpay', hideMoonpay);\n    },\n    setCurrency(e) {\n      this.selectedCurrency = e;\n    },\n    fetchCurrencyData() {\n      this.loading = true;\n      this.disableCurrencySelect = true;\n      this.fetchData = {};\n      this.fetchGasPrice();\n      this.orderHandler\n        .getSupportedFiatToBuy(this.selectedCurrency?.symbol)\n        .then(res => {\n          this.orderHandler.getFiatRatesForBuy().then(res => {\n            this.currencyRates = cloneDeep(res);\n            this.loading = false;\n            this.disableCurrencySelect = false;\n          });\n          this.fetchedData = Object.assign({}, res);\n          this.localCryptoAmount = BigNumber(this.amount)\n            .div(this.priceOb.price)\n            .toString();\n        })\n        .catch(e => {\n          Toast(e, {}, ERROR);\n        });\n      this.getSimplexQuote();\n    },\n    getSimplexQuote() {\n      if (\n        this.hideSimplex ||\n        !this.actualValidAddress ||\n        isEmpty(this.amount) ||\n        this.min.gt(this.amount) ||\n        isNaN(this.amount) ||\n        this.max.simplex.lt(this.amount) ||\n        this.amountErrorMessages !== ''\n      )\n        return;\n      this.loading = true;\n      this.disableCurrencySelect = true;\n      this.simplexQuote = {};\n      this.orderHandler\n        .getSimplexQuote(\n          this.selectedCryptoName,\n          this.selectedFiatName,\n          this.amount,\n          this.actualAddress\n        )\n        .then(res => {\n          this.simplexQuote = Object.assign({}, res);\n          this.loading = false;\n          this.disableCurrencySelect = false;\n          this.$emit('simplexQuote', this.simplexQuote);\n          this.compareQuotes();\n        })\n        .catch(e => {\n          Toast(e, {}, ERROR);\n        });\n    },\n    compareQuotes() {\n      const moonpayMax = this.max.moonpay;\n      // Moonpay has better rate and is not above max\n      this.showMoonpay = this.isLT(moonpayMax, this.amount) // max < amount\n        ? false\n        : this.isLT(this.simplexQuote.crypto_amount, this.moonpayCryptoAmount);\n    },\n    buy() {\n      const buyObj = {\n        cryptoToFiat: this.moonpayCryptoAmount,\n        selectedCryptoName: this.selectedCryptoName,\n        plusFeeF: this.plusFeeF,\n        includesFeeText: this.includesFeeText,\n        networkFeeText: this.networkFeeText,\n        dailyLimit: this.dailyLimit,\n        monthlyLimit: this.monthlyLimit,\n        fiatAmount: this.amount\n      };\n      this.checkMoonPayMax();\n      this.$emit('success', [\n        this.simplexQuote,\n        this.toAddress,\n        buyObj,\n        1,\n        this.selectedCurrency,\n        this.selectedFiat\n      ]);\n    },\n    preventCharE(e) {\n      if (e.key === 'e') e.preventDefault();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n// Force set button border color(greyMedium) for not selected buttons\n.not-selected {\n  border: 1px solid var(--v-greyMedium-base);\n}\n.icon-holder {\n  border: 2px solid var(--v-greyMedium-base);\n  border-radius: 100px;\n  width: 20px;\n  height: 20px;\n}\n.section-block {\n  height: 145px;\n  border-radius: 12px;\n  left: 0px;\n  top: 0px;\n  box-sizing: border-box;\n  border: 2px solid var(--v-greyMedium-base);\n  flex: none;\n  order: 0;\n  align-self: stretch;\n  flex-grow: 0;\n  margin: 8px 0px;\n  position: relative;\n}\n.section-block:hover {\n  cursor: pointer;\n  border: 2px solid #1eb19b;\n  background-color: #e5eaee;\n}\n.selected {\n  border: 2px solid #1eb19b;\n}\n.provider-logo {\n  position: absolute;\n  top: 18px;\n  right: 20px;\n}\n.token-select-button {\n  height: 62px;\n  border: 1px solid var(--v-inputBorder-base);\n  border-radius: 0 8px 8px 0;\n  width: 135px;\n  padding: 0 11px 0 14px;\n  line-height: initial;\n  user-select: none;\n  cursor: pointer;\n  &:hover {\n    border: 1px solid var(--v-greyPrimary-base);\n  }\n}\n</style>\n<style lang=\"scss\">\n.moonpay-buy-component {\n  .v-input__slot {\n    height: 62px !important;\n  }\n\n  .no-right-border {\n    fieldset {\n      border-radius: 8px 0 0 8px !important;\n    }\n  }\n  .no-left-border fieldset {\n    border-radius: 0 8px 8px 0 !important;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BuyComponent.vue?vue&type=template&id=df6e295a&scoped=true&\"\nimport script from \"./BuyComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./BuyComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BuyComponent.vue?vue&type=style&index=0&id=df6e295a&prod&lang=scss&scoped=true&\"\nimport style1 from \"./BuyComponent.vue?vue&type=style&index=1&id=df6e295a&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"df6e295a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyComponent.vue?vue&type=style&index=1&id=df6e295a&prod&lang=scss&\""],"sourceRoot":""}