{"version":3,"sources":["webpack:///./src/apollo/queries/wallets/wallets.graphql","webpack:///./src/core/mixins/handlerWallet.mixin.js","webpack:///./src/views/TheWalletView.vue?3258","webpack:///src/views/TheWalletView.vue","webpack:///./src/views/TheWalletView.vue?5c9a","webpack:///./src/views/TheWalletView.vue","webpack:///./src/views/TheWalletView.vue?5411"],"names":["doc","loc","source","collectFragmentReferences","node","refs","kind","add","name","value","type","selectionSet","selections","forEach","selection","variableDefinitions","def","definitions","definitionRefs","findOperation","i","length","element","oneQuery","operationName","newDoc","hasOwnProperty","opRefs","Set","allRefs","newRefs","refName","size","prevRefs","has","childRefs","childRef","op","push","module","exports","data","getLatestPrices","tokensData","apollo","query","pollInterval","result","this","Map","token","set","id","setCoinGeckoTokens","error","Toast","message","ERROR","methods","mapActions","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_e","isOfflineApp","walletEnkryptPopup","neverShowSurveyBanner","showPaperWallet","closePaperWallet","on","staticRenderFns","components","TheWalletSideMenu","TheWalletHeader","TheWalletFooter","ModuleConfirmation","EnkryptPromoSnackbar","TheEnkryptPopup","ModulePaperWallet","SurveyBanner","mixins","computed","moment","watch","address","network","coinGeckoTokens","mounted","EventBus","method","sanitizeHex","beforeDestroy","window","setup","processNetworkTokens","res","tokenMap","setTokensAndBalance","checkAndSetBaseFee","subscribeToBlockNumber","subscribe","err","web3Listeners","walletType","SUCCESS","WARNING","setWeb3Account","component"],"mappings":"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qBAGAc,aACA,yBACA,UACA,OACA,aACA,eACA,gBAEA,yBACA,SACA,eACA,eACA,gBAEA,kDACA,yBACA,qBACA,sBACA,4BACA,6BAEA,yBACA,UACA,WACA,iCAEA,0CACAhB,qBACA,OACA,0BACAiB,4DACA,IACA,0BAIAC,OACAC,WACA,GAGA,aACA,4BAHA,mBAAAjF,yBAMAkF,UACA,kCACA,mCACA,qCACA,sCACA,uBACA,aACA,sCACA,6BAIAC,qBACA,2BACA,6BAIAC,UACA,uCACA,+BACAC,kCACA,wBACA,mBACArF,2BAGA,kCACA,aACA,2BACA,sCACA,qBAEA,qBAGA,4CACA,kDACA,mCACA,CAAAsF,8BACA,QACA,oDACA,mBACAC,qBACA,yBACA,yBACA,uBACA,wBACA,yBACA,2BACA,oBAEA,0BAOAC,gBACAH,+BACA,oEACA,sEACA,4CACAI,sEACA,yCACAA,wEAGAvC,YACA,yBACA,iBACA,YACA,YACA,uBAEA,yBACA,aACA,mBACA,iBACA,uBAEA,wEAKAe,mBACA,0CACA,yBAEAyB,QACA,4BACA,+BAEA,qBACA,6BACA,0BACA,iBAEA,yBAEAC,uBACA,kCACA,gBACAC,cACAC,mCAEA,4BAGAC,sBAAA,MACA,mDACA,6BAEA,oBAGAC,sBACA,EACA,4CAEA,8CAEA,uBAEAC,yDACA,wCACA,uBACA,mCACA,GACA,yCAEA,cACAC,6BACA/B,cACA,iDACA,4DAEA,gCAEAA,eACAnB,eACAmD,6BACA,wFACA,2EACA,GACAjD,gBAKA,KAKAkD,gBAAA,MACA,+CACAV,0DACAA,4DAGA,0BACA,GACAA,iBACA,8CACA,OACA,uEACAH,wBAEA,iCACA,4EAEA,8BACA,IACA,SACA,iBACAJ,aACAkB,4CAEA,sCACA,2BACA,yBACA,wCACA,yBACArD,eACA,uCACA,GACAsD,UAGA,yBACAtD,qEAEA,SACAA,uEAGAA,eACA,2HACA,GACAuD,UAKAC,kBACA,iCACA,mBACA,yCCnUuV,I,wBCQnVC,EAAY,eACd,EACApD,EACAe,GACA,EACA,KACA,WACA,MAIa,aAAAqC,E,6CCnBf,W","file":"js/chunk-c4ade892.64dc0950.js","sourcesContent":["\n    var doc = {\"kind\":\"Document\",\"definitions\":[{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getEthBalance\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"hash\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"getEthBalance\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"owner\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"hash\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"balance\"},\"arguments\":[],\"directives\":[]}]}}]}},{\"kind\":\"OperationDefinition\",\"operation\":\"query\",\"name\":{\"kind\":\"Name\",\"value\":\"getLatestPrices\"},\"variableDefinitions\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"getLatestPrices\"},\"arguments\":[],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"id\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"symbol\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"name\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"image\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"contract\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"current_price\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"market_cap\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"total_volume\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"price_change_percentage_24h\"},\"arguments\":[],\"directives\":[]},{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"total_supply\"},\"arguments\":[],\"directives\":[]}]}}]}},{\"kind\":\"OperationDefinition\",\"operation\":\"subscription\",\"name\":{\"kind\":\"Name\",\"value\":\"subscribeToAccountBalance\"},\"variableDefinitions\":[{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"owner\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"String\"}}},\"directives\":[]},{\"kind\":\"VariableDefinition\",\"variable\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"}},\"type\":{\"kind\":\"NonNullType\",\"type\":{\"kind\":\"NamedType\",\"name\":{\"kind\":\"Name\",\"value\":\"AddressEventType\"}}},\"directives\":[]}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"addressEvent\"},\"arguments\":[{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"owner\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"owner\"}}},{\"kind\":\"Argument\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"},\"value\":{\"kind\":\"Variable\",\"name\":{\"kind\":\"Name\",\"value\":\"event\"}}}],\"directives\":[],\"selectionSet\":{\"kind\":\"SelectionSet\",\"selections\":[{\"kind\":\"Field\",\"name\":{\"kind\":\"Name\",\"value\":\"blockNumber\"},\"arguments\":[],\"directives\":[]}]}}]}}],\"loc\":{\"start\":0,\"end\":448}};\n    doc.loc.source = {\"body\":\"query getEthBalance($hash: String!) {\\n  getEthBalance(owner: $hash) {\\n    balance\\n  }\\n}\\n\\nquery getLatestPrices {\\n  getLatestPrices {\\n    id\\n    symbol\\n    name\\n    image\\n    contract\\n    current_price\\n    market_cap\\n    total_volume\\n    price_change_percentage_24h\\n    total_supply\\n  }\\n}\\n\\nsubscription subscribeToAccountBalance(\\n  $owner: String!\\n  $event: AddressEventType!\\n) {\\n  addressEvent(owner: $owner, event: $event) {\\n    blockNumber\\n  }\\n}\\n\",\"name\":\"GraphQL request\",\"locationOffset\":{\"line\":1,\"column\":1}};\n  \n\n    var names = {};\n    function unique(defs) {\n      return defs.filter(\n        function(def) {\n          if (def.kind !== 'FragmentDefinition') return true;\n          var name = def.name.value\n          if (names[name]) {\n            return false;\n          } else {\n            names[name] = true;\n            return true;\n          }\n        }\n      )\n    }\n  \n\n    // Collect any fragment/type references from a node, adding them to the refs Set\n    function collectFragmentReferences(node, refs) {\n      if (node.kind === \"FragmentSpread\") {\n        refs.add(node.name.value);\n      } else if (node.kind === \"VariableDefinition\") {\n        var type = node.type;\n        if (type.kind === \"NamedType\") {\n          refs.add(type.name.value);\n        }\n      }\n\n      if (node.selectionSet) {\n        node.selectionSet.selections.forEach(function(selection) {\n          collectFragmentReferences(selection, refs);\n        });\n      }\n\n      if (node.variableDefinitions) {\n        node.variableDefinitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n\n      if (node.definitions) {\n        node.definitions.forEach(function(def) {\n          collectFragmentReferences(def, refs);\n        });\n      }\n    }\n\n    var definitionRefs = {};\n    (function extractReferences() {\n      doc.definitions.forEach(function(def) {\n        if (def.name) {\n          var refs = new Set();\n          collectFragmentReferences(def, refs);\n          definitionRefs[def.name.value] = refs;\n        }\n      });\n    })();\n\n    function findOperation(doc, name) {\n      for (var i = 0; i < doc.definitions.length; i++) {\n        var element = doc.definitions[i];\n        if (element.name && element.name.value == name) {\n          return element;\n        }\n      }\n    }\n\n    function oneQuery(doc, operationName) {\n      // Copy the DocumentNode, but clear out the definitions\n      var newDoc = {\n        kind: doc.kind,\n        definitions: [findOperation(doc, operationName)]\n      };\n      if (doc.hasOwnProperty(\"loc\")) {\n        newDoc.loc = doc.loc;\n      }\n\n      // Now, for the operation we're running, find any fragments referenced by\n      // it or the fragments it references\n      var opRefs = definitionRefs[operationName] || new Set();\n      var allRefs = new Set();\n      var newRefs = new Set();\n\n      // IE 11 doesn't support \"new Set(iterable)\", so we add the members of opRefs to newRefs one by one\n      opRefs.forEach(function(refName) {\n        newRefs.add(refName);\n      });\n\n      while (newRefs.size > 0) {\n        var prevRefs = newRefs;\n        newRefs = new Set();\n\n        prevRefs.forEach(function(refName) {\n          if (!allRefs.has(refName)) {\n            allRefs.add(refName);\n            var childRefs = definitionRefs[refName] || new Set();\n            childRefs.forEach(function(childRef) {\n              newRefs.add(childRef);\n            });\n          }\n        });\n      }\n\n      allRefs.forEach(function(refName) {\n        var op = findOperation(doc, refName);\n        if (op) {\n          newDoc.definitions.push(op);\n        }\n      });\n\n      return newDoc;\n    }\n    \n    module.exports = doc;\n    \n        module.exports[\"getEthBalance\"] = oneQuery(doc, \"getEthBalance\");\n        \n        module.exports[\"getLatestPrices\"] = oneQuery(doc, \"getLatestPrices\");\n        \n        module.exports[\"subscribeToAccountBalance\"] = oneQuery(doc, \"subscribeToAccountBalance\");\n        \n","/**\n * The Wallet View Apollo Mixin\n */\nimport { mapActions } from 'vuex';\nimport { getLatestPrices } from '@/apollo/queries/wallets/wallets.graphql';\nimport { Toast, ERROR } from '@/modules/toast/handler/handlerToast';\nexport default {\n  name: 'HandlerWallet',\n  data() {\n    return {\n      getLatestPrices: '',\n      tokensData: {}\n    };\n  },\n  apollo: {\n    /**\n     * Apollo query to fetch latest tokens\n     * also set the state for eth price\n     */\n    getLatestPrices: {\n      query: getLatestPrices,\n      pollInterval: 600000,\n      result({ data }) {\n        this.tokensData = new Map();\n        if (data && data.getLatestPrices) {\n          data.getLatestPrices.forEach(token => {\n            this.tokensData.set(token.id, token);\n          });\n          this.setCoinGeckoTokens(this.tokensData);\n        }\n      },\n      error(error) {\n        Toast(error.message, {}, ERROR);\n      }\n    }\n  },\n  methods: {\n    ...mapActions('external', ['setCoinGeckoTokens'])\n  }\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wallet-main\"},[_c('the-wallet-side-menu'),_c('v-main',[_c('v-container',{staticClass:\"pa-2 pa-md-3 mb-14\",attrs:{\"fluid\":\"\"}},[_c('the-wallet-header'),(_vm.address)?_c('module-confirmation'):_vm._e(),(!_vm.isOfflineApp)?_c('the-enkrypt-popup',{attrs:{\"show\":_vm.walletEnkryptPopup}}):_vm._e(),_c('router-view'),_c('survey-banner',{attrs:{\"show\":!_vm.neverShowSurveyBanner}})],1)],1),_c('the-wallet-footer',{attrs:{\"is-offline-app\":_vm.isOfflineApp}}),(!_vm.isOfflineApp)?_c('enkrypt-promo-snackbar'):_vm._e(),_c('module-paper-wallet',{attrs:{\"open\":_vm.showPaperWallet,\"close\":_vm.closePaperWallet,\"is-offline-app\":_vm.isOfflineApp},on:{\"close\":_vm.closePaperWallet}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wallet-main\">\n    <the-wallet-side-menu />\n    <v-main>\n      <v-container class=\"pa-2 pa-md-3 mb-14\" fluid>\n        <the-wallet-header />\n        <module-confirmation v-if=\"address\" />\n        <the-enkrypt-popup v-if=\"!isOfflineApp\" :show=\"walletEnkryptPopup\" />\n        <router-view />\n        <survey-banner :show=\"!neverShowSurveyBanner\" />\n      </v-container>\n    </v-main>\n    <the-wallet-footer :is-offline-app=\"isOfflineApp\" />\n    <enkrypt-promo-snackbar v-if=\"!isOfflineApp\" />\n    <module-paper-wallet\n      :open=\"showPaperWallet\"\n      :close=\"closePaperWallet\"\n      :is-offline-app=\"isOfflineApp\"\n      @close=\"closePaperWallet\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mapActions, mapState, mapGetters } from 'vuex';\nimport { toBN } from 'web3-utils';\nimport Web3 from 'web3';\nimport moment from 'moment';\nimport { debounce, isEqual } from 'lodash';\nimport handlerWallet from '@/core/mixins/handlerWallet.mixin';\nimport nodeList from '@/utils/networks';\nimport {\n  ERROR,\n  SUCCESS,\n  Toast,\n  WARNING\n} from '@/modules/toast/handler/handlerToast';\nimport { Web3Wallet } from '@/modules/access-wallet/common';\nimport { ROUTES_HOME } from '@/core/configs/configRoutes';\nimport handlerAnalytics from '@/modules/analytics-opt-in/handlers/handlerAnalytics.mixin';\nimport matchNetwork from '@/core/helpers/matchNetwork';\nimport { EventBus } from '@/core/plugins/eventBus';\n\nimport WALLET_TYPES from '@/modules/access-wallet/common/walletTypes';\nimport { ROUTES_WALLET } from '@/core/configs/configRoutes';\nimport HybridWalletInterface from '@/modules/access-wallet/hybrid/handlers/walletInterface';\nimport sanitizeHex from '@/core/helpers/sanitizeHex';\n\nexport default {\n  components: {\n    TheWalletSideMenu: () => import('./components-wallet/TheWalletSideMenu'),\n    TheWalletHeader: () => import('./components-wallet/TheWalletHeader'),\n    TheWalletFooter: () => import('./components-wallet/TheWalletFooter'),\n    ModuleConfirmation: () =>\n      import('@/modules/confirmation/ModuleConfirmation'),\n    EnkryptPromoSnackbar: () =>\n      import('@/views/components-wallet/EnkryptPromoSnackbar'),\n    TheEnkryptPopup: () =>\n      import('@/views/components-default/TheEnkryptPopup.vue'),\n    ModulePaperWallet: () => import('@/modules/balance/ModulePaperWallet.vue'),\n    SurveyBanner: () => import('@/views/components-wallet/SurveyBanner.vue')\n  },\n  mixins: [handlerWallet, handlerAnalytics],\n  data() {\n    return {\n      showPaperWallet: false\n    };\n  },\n  computed: {\n    ...mapState('wallet', [\n      'address',\n      'web3',\n      'identifier',\n      'isOfflineApp',\n      'instance'\n    ]),\n    ...mapState('global', [\n      'online',\n      'gasPriceType',\n      'baseGasPrice',\n      'darkMode'\n    ]),\n    ...mapState('external', ['coinGeckoTokens']),\n    ...mapState('popups', [\n      'enkryptWalletPopup',\n      'enkryptLandingPopup',\n      'enkryptLandingPopupClosed',\n      'neverShowSurveyBanner'\n    ]),\n    ...mapGetters('global', [\n      'network',\n      'gasPrice',\n      'isEIP1559SupportedNetwork'\n    ]),\n    ...mapGetters('wallet', ['balanceInWei']),\n    walletEnkryptPopup() {\n      return (\n        !this.enkryptLandingPopup &&\n        moment(new Date()).diff(this.enkryptLandingPopupClosed, 'hours') >=\n          24 &&\n        this.enkryptWalletPopup\n      );\n    }\n  },\n  watch: {\n    address(newVal) {\n      if (!newVal) {\n        this.$router.push({ name: ROUTES_HOME.HOME.NAME });\n      } else {\n        this.setup();\n        this.setTokensAndBalance();\n      }\n    },\n    network() {\n      if (this.online && !this.isOfflineApp) {\n        this.web3.eth.clearSubscriptions();\n        this.identifier === WALLET_TYPES.WEB3_WALLET\n          ? this.setWeb3Instance(window.ethereum)\n          : this.setWeb3Instance();\n        this.setup();\n        if (this.identifier !== WALLET_TYPES.WEB3_WALLET) {\n          this.setTokensAndBalance();\n        }\n      }\n    },\n    coinGeckoTokens(newVal, oldVal) {\n      if (!isEqual(newVal, oldVal)) {\n        this.setTokensAndBalance();\n      }\n    }\n  },\n  mounted() {\n    this.$vuetify.theme.dark = this.darkMode;\n    this.trackUserVersion(VERSION);\n    EventBus.$on('openPaperWallet', () => {\n      this.showPaperWallet = true;\n      this.$router.push({\n        name: ROUTES_WALLET.PRINT.NAME\n      });\n    });\n    if (this.online && !this.isOfflineApp) {\n      this.setup();\n      this.setTokensAndBalance();\n      if (this.identifier === WALLET_TYPES.WEB3_WALLET) {\n        this.web3Listeners();\n      }\n      this.checkNetwork();\n    }\n\n    if (this.instance.identifier === 'walletConnect') {\n      this.instance.connection.on('session_update', () => {\n        this.instance.connection.sendAsync(\n          { method: 'eth_requestAccounts' },\n          (err, res) => {\n            if (res[0].toLowerCase() !== this.address.toLowerCase()) {\n              const newWallet = new HybridWalletInterface(\n                sanitizeHex(res[0]),\n                this.instance.isHardware,\n                this.instance.identifier,\n                this.instance.txSigner,\n                this.instance.msgSigner,\n                this.instance.connection,\n                this.instance.errorHandler,\n                this.instance.meta\n              );\n              this.setWallet([newWallet]);\n            }\n          }\n        );\n      });\n    }\n  },\n  beforeDestroy() {\n    EventBus.$off('openPaperWallet');\n    if (this.online && !this.isOfflineApp) this.web3.eth.clearSubscriptions();\n    if (window.ethereum && window.ethereum.removeListener instanceof Function) {\n      if (this.findAndSetNetwork instanceof Function)\n        window.ethereum.removeListener('chainChanged', this.findAndSetNetwork);\n      if (this.setWeb3Account instanceof Function)\n        window.ethereum.removeListener('accountsChanged', this.setWeb3Account);\n    }\n  },\n  methods: {\n    ...mapActions('wallet', [\n      'setBlockNumber',\n      'setTokens',\n      'setWallet',\n      'setWeb3Instance'\n    ]),\n    ...mapActions('global', [\n      'setNetwork',\n      'setBaseFeePerGas',\n      'updateGasPrice',\n      'setValidNetwork'\n    ]),\n    ...mapActions('external', ['setTokenAndEthBalance', 'setNetworkTokens']),\n    /**\n     * set showPaperWallet to false\n     * to close the modal\n     */\n    closePaperWallet() {\n      if (this.showPaperWallet) this.$router.go(-1);\n      this.showPaperWallet = false;\n    },\n    setup() {\n      this.processNetworkTokens();\n      this.subscribeToBlockNumber();\n    },\n    async checkNetwork() {\n      const matched = await matchNetwork(\n        this.network.type.chainID,\n        this.identifier\n      );\n      this.setValidNetwork(matched);\n    },\n    processNetworkTokens() {\n      this.network.type.tokens.then(res => {\n        const tokenMap = new Map();\n        res.forEach(item => {\n          tokenMap.set(item.address.toLowerCase(), item);\n        });\n        this.setNetworkTokens(tokenMap);\n      });\n    },\n    setTokensAndBalance() {\n      if (this.coinGeckoTokens?.get) {\n        this.setTokenAndEthBalance();\n      } else {\n        this.setTokens([]);\n      }\n    },\n    checkAndSetBaseFee(baseFee) {\n      if (baseFee) {\n        this.setBaseFeePerGas(toBN(baseFee));\n      } else {\n        this.setBaseFeePerGas(toBN('0'));\n      }\n      this.updateGasPrice();\n    },\n    subscribeToBlockNumber: debounce(function () {\n      this.web3.eth.getBlockNumber().then(bNumber => {\n        this.setBlockNumber(bNumber);\n        this.web3.eth.getBlock(bNumber).then(block => {\n          if (block) {\n            this.checkAndSetBaseFee(block.baseFeePerGas);\n          }\n          this.web3.eth\n            .subscribe('newBlockHeaders')\n            .on('data', res => {\n              if (this.isEIP1559SupportedNetwork && res.baseFeePerGas) {\n                this.checkAndSetBaseFee(toBN(res.baseFeePerGas));\n              }\n              this.setBlockNumber(res.number);\n            })\n            .on('error', err => {\n              Toast(\n                err && err.message === 'Load failed'\n                  ? 'eth_subscribe is not supported. Please make sure your provider supports eth_subscribe'\n                  : 'Network Subscription Error: Please wait a few seconds before continuing.',\n                {},\n                ERROR\n              );\n            });\n        });\n      });\n    }, 500),\n    /**\n     * Checks Metamask chainID on load, switches current network if it doesn't match\n     * and setup listeners for metamask changes\n     */\n    web3Listeners() {\n      if (window.ethereum?.on) {\n        window.ethereum.on('chainChanged', this.findAndSetNetwork);\n        window.ethereum.on('accountsChanged', this.setWeb3Account);\n      }\n    },\n    async findAndSetNetwork() {\n      if (\n        window.ethereum &&\n        this.instance.identifier === WALLET_TYPES.WEB3_WALLET\n      ) {\n        const networkId = await window.ethereum?.request({\n          method: 'eth_chainId'\n        });\n        const foundNetwork = Object.values(nodeList).find(item => {\n          if (toBN(networkId).eq(toBN(item[0].type.chainID))) return item;\n        });\n        if (window.ethereum.isMetaMask) {\n          try {\n            if (foundNetwork) {\n              await this.setNetwork({\n                network: foundNetwork[0],\n                walletType: this.instance.identifier\n              });\n              await this.setWeb3Instance(window.ethereum);\n              this.setTokensAndBalance();\n              this.setValidNetwork(true);\n              this.trackNetworkSwitch(foundNetwork[0].type.name);\n              this.$emit('newNetwork');\n              Toast(\n                `Switched network to: ${foundNetwork[0].type.name}`,\n                {},\n                SUCCESS\n              );\n            } else {\n              this.setValidNetwork(false);\n              Toast(\"Current wallet's network is unsupported\", {}, ERROR);\n            }\n          } catch (er) {\n            Toast('There was an error switching networks', {}, ERROR);\n          }\n        } else {\n          Toast(\n            \"Can't find matching nodes for selected MetaMask node! MetaMask may not function properly. Please select a supported node\",\n            {},\n            WARNING\n          );\n        }\n      }\n    },\n    setWeb3Account(acc) {\n      const web3 = new Web3(window.ethereum);\n      const wallet = new Web3Wallet(acc[0]);\n      this.setWallet([wallet, web3.currentProvider]);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.wallet-main {\n  background-color: var(--v-bgWallet-base);\n  height: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheWalletView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheWalletView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TheWalletView.vue?vue&type=template&id=6c3e3c6f&scoped=true&\"\nimport script from \"./TheWalletView.vue?vue&type=script&lang=js&\"\nexport * from \"./TheWalletView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TheWalletView.vue?vue&type=style&index=0&id=6c3e3c6f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c3e3c6f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TheWalletView.vue?vue&type=style&index=0&id=6c3e3c6f&prod&lang=scss&scoped=true&\""],"sourceRoot":""}